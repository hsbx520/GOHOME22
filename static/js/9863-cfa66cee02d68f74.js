(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9863],{25360:function(e,t,r){"use strict";r.d(t,{w_:function(){return s}});var n=r(71863);r(65558),r(13838),r(33665);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){return Object.keys(e).reduce((function(t,r){var o=e[r];return o?i(i({},t),{},(0,n.Z)({},r,"string"===typeof o?o:"function"===typeof o.toString?o.toString():"")):t}),{})}},23573:function(e,t,r){"use strict";var n=r(72215),o=r(93981),i=r(72558),s=r(55977),a=r(29541);t.Z=function(e){var t=e.value,r=e.tokenAddress,u=e.className,c=e.priceType,l=(0,n.Bn)().getTokenInfo,d=o.useMemo((function(){return l(r)}),[l,r]);return(0,a.jsx)("div",{className:(0,i.cn)("text-xs font-medium text-white-25",u),children:d&&(0,a.jsx)(s.default,{tokenInfo:d,amount:Number(t.floatValue),priceType:c})})}},5699:function(e,t,r){"use strict";var n=r(71863),o=r(35224),i=(r(93981),r(29541)),s=["width","height"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.width,r=void 0===t?16:t,n=e.height,a=void 0===n?16:n,c=(0,o.Z)(e,s);return(0,i.jsx)("svg",u(u({xmlns:"http://www.w3.org/2000/svg",width:r,height:a,viewBox:"0 0 16 15",fill:"none"},c),{},{children:(0,i.jsx)("path",{d:"M13.6667 6.16667C13.6667 6.16667 12.33 4.34548 11.2441 3.25883C10.1582 2.17218 8.6576 1.5 7 1.5C3.68629 1.5 1 4.18629 1 7.5C1 10.8137 3.68629 13.5 7 13.5C9.7354 13.5 12.0433 11.6695 12.7655 9.16667M13.6667 6.16667V2.16667M13.6667 6.16667H9.66667",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}))}},55729:function(e,t,r){"use strict";r.d(t,{tX:function(){return S},Gl:function(){return T},gJ:function(){return C}});var n=r(71863),o=r(94491),i=r(72215),s=r(25224),a=r(13838),u=r(9364),c=r(3011),l=r(93981),d=r(44495),p=r(99632),f=r(84382),m=r.n(f),x=r(22831),v=r(45009),g=r(23729);function h(e){var t=e.inputAmount,r=e.inputTokenInfo,n=e.outputAmount,o=e.outputTokenInfo,i=(null===r||void 0===r?void 0:r.address)||"",s=(null===o||void 0===o?void 0:o.address)||"",u=function(e,t){return(0,v.a)([e,t],(0,p.Z)(m().mark((function r(){var n,o,i;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return",null);case 2:return n="https://fe-api.jup.ag/api/v1/prices?list_address=".concat(e,",").concat(t),r.next=5,x.ZP.get(n).json();case 5:return o=r.sent,i=o.prices,r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)}))),{refetchInterval:6e4,staleTime:6e4,keepPreviousData:!0})}(i,s),c=u.data,d=(0,l.useMemo)((function(){return c&&c[i]&&c[s]?new a.Z(c[i]).div(c[s]):null}),[c,i,s]),f=(0,l.useMemo)((function(){if(d&&r&&o&&t&&n){var e=(0,g.c)({inAmount:t,inputDecimal:r.decimals,outAmount:n,outputDecimal:o.decimals},!0);if(e&&d)return new a.Z(e).div(d).toDecimalPlaces(3).toNumber()}return null}),[d,t,n,r,o]);return(0,l.useMemo)((function(){return{rate:(null===d||void 0===d?void 0:d.toNumber())||null,rateDiff:f}}),[d,f])}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=(0,u.cn)({inputTokenInfo:void 0,outputTokenInfo:void 0}),j=(0,u.cn)(null),O=(0,u.cn)({isCheaper:!1,isMoreExp:!1,isWithinTwoPercent:!1,isWithinFivePercent:!1,isDanger:!1,isWarning:!1,percent:0,formattedPercent:"",rate:null,rateDiff:null}),T=function(e,t,r){var n=(0,i.Bn)().getTokenInfo,o=(0,i.jB)().useWSol,u=(0,c.b9)(w),p=(0,c.b9)(j),f=(0,c.b9)(O),m=(0,i.gZ)().addressToTokenAccountMap,x=(0,l.useMemo)((function(){var e=new Map;return m.forEach((function(t,r){e.set(t.info.mint.toBase58(),t.pubkey.toBase58())})),e}),[m]),v=(0,l.useMemo)((function(){return[t?n(t):void 0,r?n(r):void 0]}),[n,t,r]),g=v[0],b=v[1];(0,d.Z)((function(){u({inputTokenInfo:g,outputTokenInfo:b})}),[g,b,u]),(0,d.Z)((function(){p(e?k(e,x,!o):null)}),[e,p,x,o]);var T=h({inputTokenInfo:g,outputTokenInfo:b,inputAmount:null===e||void 0===e?void 0:e.inAmount,outputAmount:null===e||void 0===e?void 0:e.outAmount}),C=(0,l.useMemo)((function(){var e=null===T||void 0===T?void 0:T.rateDiff;if("number"!==typeof e)return O.init;var t=e>=1,r=e<1,n=r?1-e<=.02:e-1<=.02,o=r?1-e<=.05:e-1<=.05,i=!t&&!n&&o,u=!t&&!o,c=r?new a.Z(1).minus(e).mul(100).toDecimalPlaces(3).toNumber():new a.Z(e).minus(1).mul(100).toDecimalPlaces(3).toNumber();return y({isCheaper:t,isMoreExp:r,isWithinTwoPercent:n,isWithinFivePercent:o,isWarning:i,isDanger:u,percent:c,formattedPercent:s.uf.format(c)},T)}),[T]);(0,d.Z)((function(){f(C)}),[f,C])},k=function(e,t,r){var n=new a.Z(e.priceImpactPct||0).mul(100).toNumber();return y({isHighImpact:n>5,isMediumImpact:n>=2&&n<=5,priceImpact:n},(0,o.rR)(e,t,new Map,r,!0))},C=function(){return(0,c.Dv)(j)},S=function(){return(0,c.Dv)(O)}},29863:function(e,t,r){"use strict";r.d(t,{Z:function(){return qn}});var n=r(71863),o=r(99632),i=r(45137),s=r(38039),a=r(84382),u=r.n(a),c=r(8473),l=r(4707),d=r(57281),p=r(11823),f=r(67768),m=r(72215),x=r(38272),v=r(13838),g=r(3011),h=r(9319),b=r.n(h),y=r(95822),w=r.n(y),j=r(93981),O=r(13215),T=r(44495),k=r(99415),C=r(41861);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(){var e=(0,C.U)(),t=e.manualProfileValues,r=e.setManualProfileValues,n=(0,j.useMemo)((function(){return t.feeType}),[t]),o=(0,j.useMemo)((function(){return t.maxJitoTipInSol}),[t]),i=(0,j.useMemo)((function(){return new v.t(o).mul(Math.pow(10,9)).toNumber()}),[o]),s=(0,j.useMemo)((function(){return t.maxPriorityFeeInSol}),[t]),a=(0,j.useMemo)((function(){return new v.t(s).mul(Math.pow(10,9)).toNumber()}),[s]),u=(0,j.useMemo)((function(){return t.broadcastMode}),[t]),c=(0,j.useCallback)((function(e){r(N(N({},t),{},{feeType:e}))}),[t,r]),l=(0,j.useCallback)((function(e){r(N(N({},t),{},{maxJitoTipInSol:e}))}),[t,r]),d=(0,j.useCallback)((function(e){r(N(N({},t),{},{maxPriorityFeeInSol:e}))}),[t,r]),p=(0,j.useCallback)((function(e){r(N(N({},t),{},{broadcastMode:e}))}),[t,r]);return{feeType:n,maxJitoTipInSol:o,maxJitoTipInLamports:i,maxPriorityFeeInSol:s,maxPriorityFeeInLamports:a,broadcastMode:u,updateFeeType:c,updateMaxJitoTip:l,updateMaxPriorityFee:d,updateBroadcastMode:p}},P=r(29541);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M,R=function(){var e=(0,C.U)(),t=e.manualProfileValues,r=e.setManualProfileValues,n=(0,j.useMemo)((function(){return t.slippage}),[t]),o=D({slippage:n});return{slippage:n,updateSlippage:function(e){r(I(I({},t),{},{slippage:e}))},slippageSuggestionText:o.slippageSuggestionText,disabledByWarning:o.disabledByWarning}},D=function(e){var t=e.slippage;return(0,j.useMemo)((function(){return t&&Number(t)>50?{slippageSuggestionText:(0,P.jsx)(c.cC,{id:"e6Axad"}),disabledByWarning:!1}:{slippageSuggestionText:null,disabledByWarning:!1}}),[t])},Z=r(70102),L=r(15564),F=r(5715),_=r(9364),B={amms:(0,_.cn)([]),userExcludedAmms:(0,_.cn)([])},q={quotedSlippage:(0,_.cn)(void 0)},U=r(72558),V=r(96126),Q=r(45157),K=r(25360),W=r(10315),z=r(60524),H=function(e){var t=e.ammName,r=e.excludeAmm,n=(0,Q.JT)().closeModal;return(0,P.jsxs)("div",{className:"max-w-md bg-v2-background p-5",children:[(0,P.jsx)("p",{className:"mb-8 text-xl font-medium leading-5",children:"Transaction Failure"}),(0,P.jsxs)("p",{className:"mb-2 text-sm text-v2-lily/75",children:["Your transaction failed due to an issue with ",t]}),(0,P.jsx)("p",{className:"mb-8 text-sm text-v2-lily/75",children:"We recommend that you exclude affected DEX(es) and fetch a new quote for your swap."}),(0,P.jsxs)(z.Z,{className:"mb-2",size:"md",onClick:function(){r(),n()},children:["Exclude ",t," and Fetch New Quote"]}),(0,P.jsx)("button",{className:"mt-2 h-14 w-full rounded-xl border border-v2-lily/25",onClick:n,children:"Cancel"})]})},J=r(52797),G=r(23573),X=r(78147),Y=function(e){var t=e.loading,r=e.name,n=e.control,o=e.disabled,i=e.onFocus,s=e.onKeyDown,a=e.onPaste,u=e.placeholder,c=e.onChange,l=e.priceType,d=e.tokenInfo,p=j.useRef(null),f=(0,O.qo)({control:n,name:"fromValue"===r?"fromTokenAddress":"toTokenAddress"});return(0,P.jsx)(O.Qr,{name:r,control:n,rules:{required:"Required"},render:function(e){var n=e.field,m=n.onChange,x=n.value,v=n.onBlur,g=String((null===x||void 0===x?void 0:x.formattedValue)||"").length>=9?"text-xl md:text-2xl":"text-3xl";return(0,P.jsxs)("div",{className:"flex h-full flex-col text-right",children:[t||!d?(0,P.jsx)(J.O,{className:"ml-2 h-6 w-24 self-end"}):(0,P.jsx)(X.Z,{name:r,className:(0,U.cn)("h-[38px] font-semibold leading-9 outline-none disabled:!text-white",g),decimals:d.decimals,onChange:c?function(e){m(e),c(e)}:m,value:null===x||void 0===x?void 0:x.value,disabled:o,ref:p,onBlur:v,onFocus:i,onKeyDown:s,onPaste:a,placeholder:u}),t?(0,P.jsx)(J.O,{className:"mt-1 h-4 w-8 self-end"}):(0,P.jsx)("div",{className:"mt-1",onClick:function(){var e;return null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.focus()},children:null!==x&&void 0!==x&&x.value?(0,P.jsx)(G.Z,{tokenAddress:f,value:x,className:"text-xs text-v2-lily/25",priceType:l}):(0,P.jsx)("div",{className:"text-xs text-v2-lily/25",children:"$0"})})]})}})},$=r(83089),ee=r(53823),te=r(98812),re=r(69077),ne=function(e){var t=e.control,r=e.name,n=e.getValues,o=e.disableTokenSelect,i=e.onTokenChange,s=e.fromTokenInfo,a=e.toTokenInfo,u=(0,Q.JT)(),c=u.closeModal,l=u.openModal,d=(0,O.bc)({control:t,name:r}).field,p=(0,j.useMemo)((function(){return"fromTokenAddress"===r?s:a}),[s,a,r]),m=(0,j.useCallback)((function(e){l((0,P.jsx)($.Z,{onSubmit:function(t){e.current(t)},shouldSortByBalance:"fromTokenAddress"===r,bestTokens:ee.KG}),{position:"top",noCloseButton:!0})}),[l,r]),x=(0,j.useCallback)((function(e){var t,o;if(e){var u,l,p=n(),f=p.toTokenAddress,m=p.fromTokenAddress;if("fromTokenAddress"===r)f===e.address?(u=e,l=s):(u=e,l=a);else m===e.address?(u=a,l=e):(u=s,l=e);d.onChange("fromTokenAddress"===r?null===(t=u)||void 0===t?void 0:t.address:null===(o=l)||void 0===o?void 0:o.address),u&&l&&i&&i(u,l),c()}}),[c,d,n,r,s,a,i]),v=(0,j.useRef)(x);return v.current=x,(0,P.jsx)("div",{className:"group/select flex items-center justify-between",children:(0,P.jsxs)("button",{type:"button",disabled:o,className:(0,U.cn)("flex h-10 items-center space-x-3 rounded-lg border-transparent px-3 py-2","toTokenAddress"===r?"bg-[#324659]":"bg-[#1A2633]",o?"":"border group-hover/select:border-v2-primary/50 group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),onClick:function(){return m(v)},children:[(0,P.jsx)("div",{className:"rounded-full",children:(null===p||void 0===p?void 0:p.logoURI)&&(0,P.jsx)(re.Z,{width:24,height:24,info:p,noCache:(0,f.tr)(p)})}),(0,P.jsx)("div",{className:"text-sm font-semibold",translate:"no",children:null===p||void 0===p?void 0:p.symbol}),!o&&(0,P.jsx)("div",{className:"fill-current text-white/25 group-hover/select:text-v2-primary",children:(0,P.jsx)(te.Z,{})})]})})},oe=r(15957),ie=r(11499),se=function(e){var t=e.control,r=e.name,n=e.className,o=e.useWSol,i=(0,C.U)().profile,s=(0,m.Bn)().tokenMap,a=(0,m.Os)().connected,u=(0,O.qo)({control:t,name:r}),c=j.useMemo((function(){return s.get(u)}),[s,u]);return a?(0,P.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,P.jsx)("div",{className:"mb-px fill-current text-v2-lily/50",children:(0,P.jsx)(oe.Z,{width:12,height:12})}),(0,P.jsxs)("div",{className:(0,U.cn)("whitespace-nowrap text-xs text-v2-lily/25",n),translate:"no",children:[(0,P.jsx)(ie.Z,{mintAddress:u,useWSOL:o&&"manual"===i})," ",(0,P.jsx)("span",{children:null===c||void 0===c?void 0:c.symbol})]})]}):null},ae=r(469),ue=r(55729),ce=r(94491),le=r(81652),de=r(25224),pe=r(87257),fe=r(95110),me=r(65781),xe=r(28046),ve=r.n(xe),ge=r(33665),he=r(31749),be=r(4610),ye=r(86946);!function(e){e.INITIALIZE_ERROR="INITIALIZE_ERROR",e.FETCH_ROUTES_ERROR="FETCH_ROUTES_ERROR",e.NO_ROUTES_ERROR="NO_ROUTES_ERROR",e.TOKEN_NOT_TRADABLE="TOKEN_NOT_TRADABLE",e.COULD_NOT_FIND_ANY_ROUTE="COULD_NOT_FIND_ANY_ROUTE",e.INVALID_REQUEST="INVALID_REQUEST",e.ROUTE_PLAN_DOES_NOT_CONSUME_ALL_THE_AMOUNT="ROUTE_PLAN_DOES_NOT_CONSUME_ALL_THE_AMOUNT",e.NO_QUOTE_FOUND="NO_QUOTE_FOUND",e.EXACT_OUT_NOT_SUPPORTED_IN_RFQ="EXACT_OUT_NOT_SUPPORTED_IN_RFQ",e.WSOL_NOT_SUPPORTED_IN_RFQ="WSOL_NOT_SUPPORTED_IN_RFQ"}(M||(M={}));var we,je,Oe=r(65558),Te=r.n(Oe);(we||(we={})).RFQ_AMM_PROGRAM={label:"JupiterZ",ammProgramId:"RFQ"},function(e){e.Aggregator="aggregator",e.RFQ="rfq",e.Ultra="ultra"}(je||(je={}));var ke=function(e){var t=e.fromTokenAddress,r=e.selectedQuote,n=e.fromValue,o=e.swapMode,i=e.swapType,s=(0,le.jB)().useWSol,a=(0,C.U)().profile,u=(0,le.FB)(t,void 0,s&&"manual"===a),c=u.balance,l=u.balanceLamports,p=(0,ue.gJ)(),f=(0,le.gZ)().nativeAccount;return{hasEnoughBalance:j.useMemo((function(){if(o===d.jr.ExactIn||i===je.RFQ||i===je.Ultra)return new v.Z((null===n||void 0===n?void 0:n.value)||0).lessThanOrEqualTo(c);if(!r)return!1;var e=r.quoteResponse;if("aggregator"===r.swapType){var t=new v.Z(e.otherAmountThreshold.toString());return new v.Z(t||0).lessThanOrEqualTo(new v.Z(l.toString()))}return!1}),[c,r,null===n||void 0===n?void 0:n.value,o,i,l]),hasEnoughSOLForGas:j.useMemo((function(){if(r){if("rfq"===r.swapType)return!0;if("ultra"===r.swapType&&r.quoteResponse.gasless)return!0;if(!p)return!1;var e=!s&&r.quoteResponse.inputMint.equals(d.W4)?new Oe.BN(r.quoteResponse.inAmount.toString()):new Oe.BN(0);return((null===f||void 0===f?void 0:f.info.amount)||new Oe.BN(0)).sub(e).gt(new Oe.BN(p.minimumSOLForTransaction))}return!1}),[p,r,f,s])}},Ce=function(e){var t=e.text,r=e.shouldShowRocketIcon;return(0,P.jsxs)("div",{className:"flex items-center gap-2",translate:"no",children:[r?(0,P.jsx)(fe.Z,{width:18,height:18}):null,t]})},Se=function(e){var t=e.control,r=e.loading,n=e.error,o=e.swapMode,i=e.swapType,a=e.simulationButtonText,u=e.progress,l=(0,le.Os)().connected,d=(0,O.cl)({control:t}).isSubmitting,p=(0,O.qo)({control:t,name:"fromTokenAddress"}),f=(0,O.qo)({control:t,name:"toTokenAddress"}),x=(0,O.qo)({control:t,name:"selectedQuote"}),v=(0,O.qo)({control:t,name:"fromValue"}),g=(0,O.qo)({control:t,name:"toValue"}),h=(0,O.qo)({control:t,name:"toastId"}),b=(0,C.U)().profile,y=(0,m.Bn)().getTokenInfo,w=j.useMemo((function(){return y(p)}),[p,y]),T=j.useMemo((function(){return y(f)}),[f,y]),k=j.useMemo((function(){if(!x)return!1;var e=x.swapType,t=x.quoteResponse;return"rfq"!==e&&(0!==t.contextSlot&&void 0)}),[x]),S=(0,he.useIsAccountFrozen)(w),N=(0,he.useIsAccountFrozen)(T),A=(0,me.kH)(h),E=A.isProcessing,I=A.isTxProcessed,R=A.isWaitingWalletToSign,D=j.useState(null),Z=(0,s.Z)(D,2),L=Z[0],F=Z[1],_=ke({fromTokenAddress:p,swapMode:o,swapType:i,selectedQuote:x,fromValue:v}),B=_.hasEnoughBalance,q=_.hasEnoughSOLForGas,U=j.useCallback((function(e){F((0,P.jsx)(Ce,{text:e,shouldShowRocketIcon:"auto"===b}))}),[b]);if(j.useEffect((function(){if(r)U((0,P.jsx)(c.cC,{id:"yQE2r9"}));else if(k)U((0,P.jsx)(c.cC,{id:"t+lyiG"}));else if(null!==v&&void 0!==v&&v.value||null!==g&&void 0!==g&&g.value)if(B)if(q||!x)if(S||N)U((0,P.jsx)(c.cC,{id:"DtetjN"}));else{var e={fromTokenAddress:p,toTokenAddress:f,fromValue:v,toValue:g};if(n)return n===M.TOKEN_NOT_TRADABLE?U((0,P.jsx)(c.cC,{id:"tz4GX1"})):n===M.COULD_NOT_FIND_ANY_ROUTE||n===M.NO_ROUTES_ERROR?((0,ge.Kz)(pe.bk.NO_ROUTES_ERROR,e),U((0,P.jsx)(c.cC,{id:"ZSrFB6"}))):n===ce.D1.ROUTE_PLAN_DOES_NOT_CONSUME_ALL_THE_AMOUNT?U((0,P.jsx)(c.cC,{id:"6sX+9D"})):n===ce.D1.INVALID_REQUEST?U((0,P.jsx)(c.cC,{id:"71Xwww"})):n===M.NO_QUOTE_FOUND?U((0,P.jsx)(c.cC,{id:"YDAA8a"})):n===M.EXACT_OUT_NOT_SUPPORTED_IN_RFQ?U((0,P.jsx)(c.cC,{id:"Br1keZ"})):n===M.WSOL_NOT_SUPPORTED_IN_RFQ?U((0,P.jsx)(c.cC,{id:"bk6bDu"})):U((0,P.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,P.jsx)("div",{children:(0,P.jsx)(c.cC,{id:"KBRG0K"})}),(0,P.jsx)("div",{children:(0,P.jsx)(c.cC,{id:"QZjeyC"})})]})),void(0,ge.Kz)(n,e);d?a?U(a):I?U((0,P.jsx)(c.cC,{id:"zisYnV"})):R?U((0,P.jsx)(c.cC,{id:"fNEu19"})):E&&U((0,P.jsx)(c.cC,{id:"vrnnn9"})):U((0,P.jsx)(c.cC,{id:"vH2C/2"}))}else U((0,P.jsx)(c.cC,{id:"GyFBKR"}));else U((0,P.jsx)(c.cC,{id:"UsQ5AM",values:{0:null===w||void 0===w?void 0:w.symbol}}));else U((0,P.jsx)(c.cC,{id:"iPMIoT"}))}),[x,E,d,I,R,r,U,null===v||void 0===v?void 0:v.value,a,n,p,f,v,g,B,q,S,N,null===w||void 0===w?void 0:w.symbol,k]),!l&&!n)return(0,P.jsx)(ye.Z,{className:"mb-3 mt-2"});var V=!!n||!x||!B||!q||r||k||!(null!==v&&void 0!==v&&v.value)||S||N;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("div",{className:(0,de.cn)("relative my-4"),children:(0,P.jsxs)(be.Z,{disabled:V,loading:d,type:"submit",className:(0,de.cn)("relative overflow-hidden !transition-none","auto"===b&&["bg-gradient-to-r from-[#00BEF0] to-[#C7F284]",!V&&ve().shimmerHover,d&&ve().shimmerActive]),children:[u&&(0,P.jsx)("div",{style:{width:"".concat(u,"%")},className:"pointer-events-none absolute left-0 top-0 z-50 !h-full bg-black/20 transition-all"}),(0,P.jsx)("span",{children:L})]})})})},Ne=r(2576),Ae=r(94358),Pe=r(73768),Ee=function(){var e=A(),t=e.feeType,r=e.updateFeeType;return(0,P.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,P.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsx)("span",{className:"flex max-w-xs flex-col rounded-lg text-xs text-white-75",children:(0,P.jsx)(c.cC,{id:"r62lzg"})}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("p",{className:"text-xs font-semibold text-v2-lily/[0.35]",children:l.ag._({id:"S0NtVE"})})]}),(0,P.jsxs)("div",{className:"flex h-[32px] w-[160px] items-center rounded-3xl bg-v2-perps-input p-1",children:[(0,P.jsx)(p.yw,{label:l.ag._({id:"2wE/WM"}),isActive:"max-cap"===t,onClick:function(){return r("max-cap")},buttonClassName:"w-[75px] h-full lg:w-20 hover:text-v2-primary/50 rounded-3xl",buttonActiveClassName:"bg-v2-primary/10",labelActiveClassName:"text-v2-primary"}),(0,P.jsx)(p.yw,{label:l.ag._({id:"k4a2C+"}),isActive:"exact-fee"===t,onClick:function(){return r("exact-fee")},buttonClassName:"w-[100px] h-full hover:text-v2-primary/50 lg:w-20 rounded-3xl",buttonActiveClassName:"bg-v2-primary/10",labelActiveClassName:"text-v2-primary"})]})]})},Ie=r(56720),Me=r(35682),Re=r(87821),De=r(10496),Ze=r(45002),Le=r(87986),Fe=function(e){var t=e.setValue,r=A().broadcastMode,n=(0,Me.ay)({enabled:"priorityFees"!==r}),o=n.data,i=n.refetch,s=(0,j.useState)(!1),a=s[0],u=s[1],c=(0,j.useRef)(null);(0,j.useEffect)((function(){var e=function(e){c.current&&!c.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]);var d=(0,j.useMemo)((function(){return o?[{label:"50th Percentile: ".concat(null===o||void 0===o?void 0:o.landed50," SOL"),value:new v.Z(null===o||void 0===o?void 0:o.landed50).toDP(6).toNumber()},{label:"75th Percentile: ".concat(null===o||void 0===o?void 0:o.landed75," SOL"),value:new v.Z(null===o||void 0===o?void 0:o.landed75).toDP(6).toNumber()},{label:"95th Percentile: ".concat(null===o||void 0===o?void 0:o.landed95," SOL"),value:new v.Z(null===o||void 0===o?void 0:o.landed95).toDP(6).toNumber()}]:[]}),[o]);return o?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-8 cursor-pointer items-center justify-center",onClick:function(){return u(!a)},children:(0,P.jsx)(Ze.Z,{})}),a&&(0,P.jsx)("div",{className:"absolute right-0 top-full z-10 mt-1 w-full overflow-hidden rounded-lg bg-[#1B1B1E] shadow-lg",ref:c,children:d.map((function(e,r){var n=e.label,o=e.value;return(0,P.jsx)("div",{className:"cursor-pointer px-3 py-2 text-center text-xxs text-v2-primary hover:bg-v2-primary/10 ".concat(r!==d.length-1?"border-b border-v2-primary/10":""),onClick:function(){o&&t("userMaxTipInSOLForm",o),u(!1)},children:n},r)}))})]}):(0,P.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,P.jsx)("span",{children:l.ag._({id:"EcxyOH"})}),(0,P.jsxs)("button",{type:"button",onClick:function(){return i()},className:"flex items-center gap-1 fill-current underline",children:[(0,P.jsx)("span",{className:"",children:"Try again"})," ",(0,P.jsx)(Le.Z,{height:8,width:8})]})]})},_e=r(35224),Be=["width","height"];function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve=function(e){var t=e.width,r=void 0===t?"16":t,n=e.height,o=void 0===n?"16":n,i=(0,_e.Z)(e,Be);return(0,P.jsx)("svg",Ue(Ue({width:r,height:o,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),{},{children:(0,P.jsx)("path",{d:"M8.00049 6.00015V8.66682M8.00049 11.3335H8.00715M7.07737 2.59464L1.59411 12.0657C1.28997 12.591 1.1379 12.8537 1.16038 13.0693C1.17998 13.2573 1.2785 13.4282 1.4314 13.5394C1.60671 13.6668 1.91022 13.6668 2.51723 13.6668H13.4837C14.0908 13.6668 14.3943 13.6668 14.5696 13.5394C14.7225 13.4282 14.821 13.2573 14.8406 13.0693C14.8631 12.8537 14.711 12.591 14.4069 12.0657L8.92361 2.59463C8.62056 2.07119 8.46904 1.80947 8.27135 1.72157C8.09892 1.64489 7.90206 1.64489 7.72962 1.72157C7.53194 1.80947 7.38041 2.07119 7.07737 2.59464Z",stroke:"#5D3500",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})}))},Qe=function(){var e=A(),t=e.updateMaxJitoTip,r=e.feeType,n=e.maxJitoTipInSol,o=(0,C.U)().setHasCorrectFee,i=(0,Me.ay)().data,s=(0,O.cI)({defaultValues:{userMaxTipInSOLForm:n}}),a=s.watch,u=s.control,d=s.setValue,f=a("userMaxTipInSOLForm");(0,De.Z)((function(){f&&f<=1?(o(!0),t(f)):o(!1)}),300,[f]);var m=(0,j.useMemo)((function(){return!!n&&new v.Z(n).mul(1.01).lt((null===i||void 0===i?void 0:i.landed50)||0)}),[n,i]);return(0,P.jsxs)("div",{className:"flex flex-col",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-x-2",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsx)("span",{className:"flex max-w-xs flex-col rounded-lg text-xs text-white-75",children:"exact-fee"===r?(0,P.jsx)(c.cC,{id:"ofz7S1"}):(0,P.jsx)(c.cC,{id:"eeTXjZ"})}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("p",{className:"text-xs font-semibold text-v2-lily/[0.35]",children:l.ag._({id:"c6iNJx"})})]}),(0,P.jsxs)("div",{className:(0,U.cn)("relative mt-2 flex h-[32px] w-[140px] items-center justify-end rounded-lg bg-[#1B1B1E] p-1 md:mb-0 md:!w-[220px]","number"===typeof n?"":"hidden md:block"),children:[(0,P.jsx)(O.Qr,{control:u,name:"userMaxTipInSOLForm",render:function(e){var t=e.field,r=t.value,n=t.onChange;return(0,P.jsx)(Re.Z,{inputMode:"decimal",onFocus:function(e){var t=e.target;t.setSelectionRange(t.value.length,t.value.length-5),setTimeout((function(){t.scrollIntoView({behavior:"smooth",block:"center"})}),100)},value:r,onValueChange:function(e){return n(e.floatValue||null)},decimalScale:9,allowNegative:!1,allowedDecimalSeparators:[".",","],suffix:"  SOL",placeholder:"Enter custom value",isNumericString:!0,className:(0,U.cn)("pointer-events-all h-full w-full rounded-xl bg-transparent px-2 text-right !text-xs outline-none placeholder:text-white/25 md:!text-sm")})}}),"exact-fee"===r&&(0,P.jsx)(Fe,{setValue:d})]})]}),(0,P.jsxs)("span",{className:"self-end text-xxs text-v2-lily/50",children:["~",(0,P.jsx)(p.M8,{tokenInfo:Ie.Zt,amount:n,maxDecimals:4})]}),m&&(0,P.jsxs)("div",{className:"mt-2 flex w-full items-center justify-center gap-x-[6px] rounded-xl bg-text-warning-primary px-3 py-2 text-xs font-semibold text-[#5D3500]",children:[(0,P.jsx)(Ve,{className:"h-4 w-4 shrink-0 md:h-6 md:w-6",width:"100%",height:"100%"}),"Your current Jito fee is below the Jito floor. Please raise it to ensure your transactions are processed."]})]})},Ke=r(53024),We=function(){var e=(0,g.KO)(Ke.yz),t=(0,s.Z)(e,1)[0],r=A(),n=r.maxPriorityFeeInSol,o=r.updateMaxPriorityFee,i=(0,C.U)().setHasCorrectFee,a=(0,O.cI)({defaultValues:{userMaxFeeInSOLForm:n}}),u=a.watch,d=a.control,m=u("userMaxFeeInSOLForm");(0,De.Z)((function(){m&&m<=1?(i(!0),o(m)):i(!1)}),300,[m]);var x=(0,j.useMemo)((function(){return"number"===typeof m&&(t.jup2.m||0)>(0,f.ks)(m,9)}),[m,t.jup2]),h=(0,j.useMemo)((function(){return"number"===typeof m&&(!!new v.Z(m).gt(1)&&(i(!1),!0))}),[m,i]),b=A().feeType;return(0,P.jsxs)("div",{className:"flex flex-col",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsxs)("div",{className:"flex flex-wrap items-center gap-x-2",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsx)("span",{className:"flex max-w-xs flex-col rounded-lg text-xs text-white-75",children:"exact-fee"===b?(0,P.jsx)(c.cC,{id:"KhpRuU"}):(0,P.jsx)(c.cC,{id:"eeTXjZ"})}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("p",{className:"text-xs font-semibold text-v2-lily/[0.35]",children:l.ag._({id:"6t9BXr"})})]}),(0,P.jsx)("div",{className:(0,f.cn)("relative flex h-[32px] w-[140px] items-center justify-end rounded-lg bg-[#1B1B1E] p-1 md:mb-0 md:!w-[220px]"),children:(0,P.jsx)(O.Qr,{control:d,name:"userMaxFeeInSOLForm",render:function(e){var t=e.field,r=t.value,n=t.onChange;return(0,P.jsx)(Re.Z,{inputMode:"decimal",onFocus:function(e){var t=e.target;t.setSelectionRange(t.value.length,t.value.length-5),setTimeout((function(){t.scrollIntoView({behavior:"smooth",block:"center"})}),100)},value:r,onValueChange:function(e){return n(e.floatValue||null)},decimalScale:9,allowNegative:!1,allowedDecimalSeparators:[".",","],suffix:"  SOL",placeholder:"Enter custom value",isNumericString:!0,className:(0,f.cn)("pointer-events-all h-full w-full rounded-xl bg-transparent px-2 text-right !text-xs outline-none placeholder:text-white/25 md:!text-sm")})}})})]}),(0,P.jsxs)("span",{className:"self-end text-xxs text-v2-lily/50",children:["~",(0,P.jsx)(p.M8,{tokenInfo:Ie.Zt,amount:n,maxDecimals:4})]}),x&&(0,P.jsxs)("div",{className:"mt-2 flex w-full items-center justify-center gap-x-[6px] rounded-xl bg-text-warning-primary px-3 py-2 text-xs font-semibold text-[#5D3500]",children:[(0,P.jsx)(Ve,{className:"h-4 w-4 shrink-0 md:h-6 md:w-6",width:"100%",height:"100%"}),"Your current maximum fee is below the market rate. Please raise it to ensure your transactions are processed."," "]}),h&&(0,P.jsxs)("div",{className:"mt-2 flex w-full items-center justify-center gap-x-[6px] rounded-xl bg-text-warning-primary px-3 py-2 text-xs font-semibold text-[#5D3500]",children:[(0,P.jsx)(Ve,{className:"h-4 w-4 shrink-0 md:h-6 md:w-6",width:"100%",height:"100%"}),"Max Fee is only allow up to 1 SOL."]})]})},ze=function(){var e=(0,C.U)(),t=e.routeMode,r=e.setRouteMode;return(0,P.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,P.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsxs)("span",{className:"flex max-w-xs flex-col rounded-lg text-xs text-white-75",children:[(0,P.jsx)("span",{className:"mb-1",children:(0,P.jsx)(c.cC,{id:"N2bL6I"})}),(0,P.jsxs)("ul",{className:"list-disc pl-4",children:[(0,P.jsx)("li",{children:(0,P.jsx)(c.cC,{id:"RrYjX9"})}),(0,P.jsx)("li",{children:(0,P.jsx)(c.cC,{id:"SjQV5q"})}),(0,P.jsx)("li",{children:(0,P.jsx)(c.cC,{id:"k4OUzA"})})]})]}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("p",{className:"text-xs font-semibold text-v2-lily/[0.35]",children:l.ag._({id:"O/Us+O"})})]}),(0,P.jsxs)("div",{className:"flex h-[32px] w-[200px] items-center rounded-3xl bg-v2-perps-input p-1",children:[(0,P.jsx)(p.yw,{label:l.ag._({id:"R9Khdg"}),isActive:"AUTO"===t,onClick:function(){return r("AUTO")},buttonClassName:"w-[75px] h-full lg:w-20 hover:text-v2-primary/50 rounded-3xl",buttonActiveClassName:"bg-v2-primary/10",labelActiveClassName:"text-v2-primary"}),(0,P.jsx)(p.yw,{label:l.ag._({id:"/tlZaz"}),isActive:"AMM"===t,onClick:function(){return r("AMM")},buttonClassName:"w-[100px] h-full hover:text-v2-primary/50 lg:w-20 rounded-3xl",buttonActiveClassName:"bg-v2-primary/10",labelActiveClassName:"text-v2-primary"}),(0,P.jsx)(p.yw,{label:l.ag._({id:"WHEDX/"}),isActive:"RFQ"===t,onClick:function(){return r("RFQ")},buttonClassName:"w-[100px] h-full hover:text-v2-primary/50 lg:w-20 rounded-3xl",buttonActiveClassName:"bg-v2-primary/10",labelActiveClassName:"text-v2-primary"})]})]})},He=r(89140),Je=r(15636),Ge=["0.5","1"],Xe=function(){var e=R(),t=e.updateSlippage,r=e.slippage,n=(0,j.useState)(!1),o=n[0],i=n[1],s=(0,C.U)().setHasCorrectSlippage,a=(0,j.useState)(!1),u=a[0],l=a[1],d=(0,O.cI)({defaultValues:{fixedSlippage:r}}),f=d.control,m=d.watch,x=d.setValue,v=m("fixedSlippage");return(0,De.Z)((function(){void 0!==v&&null!==v?(s(!0),t(v)):s(!1)}),200,[v,o]),(0,j.useEffect)((function(){void 0!==Ge.find((function(e){return e===String(r)}))?(i(!1),l(!0)):(i(!0),l(!1))}),[]),(0,P.jsxs)("div",{className:"flex items-center justify-between gap-x-8",children:[(0,P.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsx)("span",{className:"flex max-w-xs flex-col rounded-lg text-xs text-white-75",children:(0,P.jsx)(c.cC,{id:"MnkqAl"})}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("div",{className:"text-xs font-semibold text-v2-lily/[0.35]",children:(0,P.jsx)(c.cC,{id:"srJjGK"})})]}),(0,P.jsxs)("div",{className:"flex h-[32px] items-center overflow-hidden rounded-2xl bg-[#1B1B1E] p-1 text-sm",children:[Ge.map((function(e,t){var r=function(){var t=Number(e);return Number.isNaN(t)?e:de.uf.format(Number(e))+"%"}();return(0,P.jsx)(p.yw,{buttonClassName:"rounded-3xl !w-[50px] h-full",buttonActiveClassName:"bg-v2-primary/10",labelActiveClassName:"text-v2-primary",label:r,isActive:!o&&String(v)===e,onClick:function(){i(!1),l(!0),(0,Je.setTimeout)((function(){x("fixedSlippage",Number(e))}),0)}},t)})),(0,P.jsx)("div",{onClick:function(){u&&(x("fixedSlippage",void 0),l(!1)),i(!0)},className:"flex h-full w-[75px] cursor-text items-center justify-between bg-[#1B1B1E] px-2 text-sm text-white",children:(0,P.jsx)(O.Qr,{control:f,name:"fixedSlippage",render:function(e){var t=e.field,r=t.value,n=t.onChange;return(0,P.jsx)(Re.Z,{inputMode:"decimal",value:o?r:"",decimalScale:2,onFocus:function(e){var t=e.target;t.setSelectionRange(t.value.length,t.value.length-3),(0,Je.setTimeout)((function(){t.scrollIntoView({behavior:"smooth",block:"center"})}),100)},isAllowed:function(e){return(e.floatValue||0)<=100&&(e.floatValue||0)>=0},allowedDecimalSeparators:[".",","],allowNegative:!1,onValueChange:function(e){"number"===typeof e.floatValue?n(e.floatValue):n(void 0)},allowLeadingZeros:!1,isNumericString:!0,suffix:"  %",className:"pointer-events-all h-full w-full rounded-lg bg-transparent px-2 py-4 text-right text-xs outline-none placeholder:text-white/25",decimalSeparator:He.A5,placeholder:","===He.A5?"0,00%":"0.00%"})}})})]})]})},Ye=function(){var e=(0,C.U)().setHasCorrectSlippage,t=R(),r=t.slippageSuggestionText,n=t.disabledByWarning;return(0,j.useEffect)((function(){e(!n)}),[n,e]),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:(0,U.cn)("flex flex-col justify-between transition-all","max-h-[70vh] overflow-y-auto"),children:(0,P.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,P.jsx)("div",{className:"text-sm",children:(0,P.jsx)(Xe,{})})})}),(0,P.jsx)("div",{children:r&&(0,P.jsxs)("div",{className:"mt-2 flex w-full items-center justify-center gap-x-[6px] rounded-xl bg-text-warning-primary px-3 py-1 text-xs font-semibold text-[#5D3500]",children:[(0,P.jsx)(Ve,{className:"h-4 w-4 shrink-0 md:h-6 md:w-6",width:"100%",height:"100%"}),r]})})]})},$e=r(97155),et=function(){var e=A(),t=e.broadcastMode,r=e.updateBroadcastMode,n=(0,C.U)().setIsBroadcastModeValid,o=(0,j.useState)((function(){return"mixed"===t?["priorityFees","jito"]:[t]})),s=o[0],a=o[1],u=s.includes("priorityFees"),d=s.includes("jito"),p=0===s.length;return(0,j.useEffect)((function(){u||d?(n(!0),u&&d?r("mixed"):u?r("priorityFees"):d&&r("jito")):n(!1)}),[t,d,u]),(0,P.jsxs)("div",{className:"my-2 flex flex-col gap-2",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between gap-x-8 text-xs",children:[(0,P.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsxs)("span",{className:"flex max-w-xs flex-col rounded-lg text-xs text-white-75",children:[(0,P.jsx)("span",{className:"mb-1",children:(0,P.jsx)(c.cC,{id:"9w/AHp"})}),(0,P.jsxs)("ul",{className:"list-disc pl-4",children:[(0,P.jsx)("li",{children:(0,P.jsx)(c.cC,{id:"O89joZ"})}),(0,P.jsx)("li",{children:(0,P.jsx)(c.cC,{id:"jl24UA"})})]})]}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("p",{className:"text-xs font-semibold text-v2-lily/[0.35]",children:l.ag._({id:"fSbQkf"})})]}),(0,P.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg bg-[#1B1B1E] p-3 sm:flex-row sm:gap-x-2 sm:rounded-full",children:[(0,P.jsxs)("div",{className:"flex items-center justify-end gap-x-2",children:[(0,P.jsx)("div",{className:"text-xs font-semibold text-v2-lily/[0.6]",children:"Priority Fees"}),(0,P.jsx)($e.default,{className:(0,U.cn)(u?"border border-v2-primary/10 bg-v2-primary/10":""),dotClassName:(0,U.cn)(u?"bg-v2-primary":"border-v2-lily/30"),active:u,onClick:function(){s.includes("priorityFees")?a(s.filter((function(e){return"priorityFees"!==e}))):a([].concat((0,i.Z)(s),["priorityFees"]))}})]}),(0,P.jsxs)("div",{className:"flex items-center justify-end gap-x-2",children:[(0,P.jsx)("div",{className:"text-xs font-semibold text-v2-lily/[0.6]",children:"Jito"}),(0,P.jsx)($e.default,{className:(0,U.cn)(d?"border border-v2-primary/10 bg-v2-primary/10":""),dotClassName:(0,U.cn)(d?"bg-v2-primary":"border-v2-lily/30"),active:d,onClick:function(){s.includes("jito")?a(s.filter((function(e){return"jito"!==e}))):a([].concat((0,i.Z)(s),["jito"]))}})]})]})]}),p&&(0,P.jsx)("div",{className:"rounded-lg bg-red-500/10 p-2 text-center text-xs text-red-500",children:(0,P.jsx)(c.cC,{id:"hRTgEU"})})]})};function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nt=function(e){var t=e.amm,r=(0,g.KO)(B.amms),n=(0,s.Z)(r,1)[0],o=(0,g.KO)(B.userExcludedAmms),a=(0,s.Z)(o,2),u=a[0],c=a[1],d=(0,j.useMemo)((function(){return u.find((function(e){return e.ammProgramId===t.ammProgramId}))}),[t.ammProgramId,u]),p=(0,j.useCallback)((function(){c(d?function(e){return e.filter((function(e){return e.ammProgramId!==t.ammProgramId}))}:function(e){return[].concat((0,i.Z)(e),[t])})}),[c,d,t]),f=(0,j.useCallback)((function(){var e=n.filter((function(e){return e.ammProgramId!==t.ammProgramId}));c(e)}),[t.ammProgramId,n,c]);return(0,P.jsxs)("div",{className:"flex w-full justify-between py-2 pl-4 pr-2 text-xs odd:bg-v3/50",children:[(0,P.jsx)("span",{className:"text-v2-lily/70",children:t.label}),(0,P.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,P.jsx)("button",{type:"button",className:"text-xs font-semibold text-v2-lily/10 hover:text-v2-lily/50",onClick:f,children:(0,P.jsx)("span",{children:l.ag._({id:"/OwtoT"})})}),(0,P.jsx)($e.default,{active:Boolean(d),onClick:p,className:"!bg-[#010101]",activeClassName:"bg-perps-red"})]})]})},ot={Whirlpool:"Orca Whirlpool"},it=function(){var e=(0,g.KO)(B.amms),t=(0,s.Z)(e,1)[0],r=(0,g.KO)(B.userExcludedAmms),n=(0,s.Z)(r,2),o=n[0],i=n[1],a=(0,j.useState)(o.length>0),u=a[0],d=a[1],p=(0,j.useMemo)((function(){return t.map((function(e){var t=ot[e.label];return t?rt(rt({},e),{},{label:t}):e}))}),[t]),f=(0,j.useCallback)((function(e){e.stopPropagation(),i([])}),[i]);return(0,j.useEffect)((function(){u||i([])}),[u,i]),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex w-full flex-col",children:[(0,P.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,P.jsxs)("div",{className:"flex items-center gap-x-2 text-xs",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsx)("div",{className:"flex flex-col gap-y-2 text-left",children:(0,P.jsx)("p",{className:"flex rounded-lg text-xs text-white-75",children:(0,P.jsx)(c.cC,{id:"yDDlCP"})})}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("div",{className:"font-semibold text-v2-lily/[0.35]",children:(0,P.jsx)(c.cC,{id:"gt90wd"})})]}),(0,P.jsx)($e.default,{className:(0,de.cn)(u?"border border-v2-primary/10 bg-v2-primary/10":""),dotClassName:(0,de.cn)(u?"bg-v2-primary":"border-v2-lily/30"),active:u,onClick:function(){return d((function(e){return!e}))}})]}),(0,P.jsx)("div",{className:"text-xs text-v2-lily/50",children:0===o.length?(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("p",{children:l.ag._({id:"ZeImSn"})})}):(0,P.jsxs)("div",{className:"mt-1 flex gap-x-1",children:[(0,P.jsx)("div",{children:l.ag._({id:"880KXG",values:{0:o.length}})}),(0,P.jsx)("button",{type:"button",className:"underline",onClick:f,children:"Clear all"})]})})]}),(0,P.jsx)("div",{className:(0,de.cn)("flex flex-col gap-y-2 overflow-y-scroll border border-transparent transition-all duration-200",u?"mt-2 max-h-[20vh] rounded-lg border-v2-lily/10 opacity-100":"!h-0 overflow-hidden opacity-0"),children:p.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})).map((function(e){return(0,P.jsx)(nt,{amm:e},e.ammProgramId)}))})]})},st=function(e){var t=e.value,r=e.onClick;return(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsxs)("div",{className:"flex cursor-pointer items-center gap-x-2 text-xs",children:[(0,P.jsx)(Ae.Z,{variant:"dark",content:(0,P.jsx)("span",{className:"flex rounded-lg text-xs text-white-75",children:(0,P.jsx)(c.cC,{id:"FSg8E1"})}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("div",{className:"font-semibold text-v2-lily/[0.35]",children:(0,P.jsx)(c.cC,{id:"5pzCUo"})})]}),(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)($e.default,{className:(0,U.cn)(t?"border border-v2-primary/10 bg-v2-primary/10":""),dotClassName:(0,U.cn)(t?"bg-v2-primary":"border-v2-lily/30"),active:t,onClick:r})})]})},at=function(e){var t=e.value,r=e.onClick;return(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsxs)("div",{className:"flex cursor-pointer items-center gap-x-2 text-xs",children:[(0,P.jsx)(Ae.Z,{variant:"dark",offset:[16,2.5],content:(0,P.jsx)("span",{className:"flex max-w-xs rounded-lg text-xs text-white-75",children:(0,P.jsx)(c.cC,{id:"xP8UxD"})}),children:(0,P.jsx)("div",{className:"flex items-center fill-current text-white/30",children:(0,P.jsx)(Pe.Z,{height:12,width:12})})}),(0,P.jsx)("div",{className:"font-semibold text-v2-lily/[0.35]",children:(0,P.jsx)(c.cC,{id:"m5BrYl"})})]}),(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)($e.default,{className:(0,f.cn)(t?"border border-v2-primary/10 bg-v2-primary/10":""),dotClassName:(0,f.cn)(t?"bg-v2-primary":"border-v2-lily/30"),active:t,onClick:r})})]})},ut=function(){var e=(0,le.jB)(),t=e.useWSol,r=e.setUseWSol,n=e.asLegacyTransaction,o=e.setAsLegacyTransaction,i=A().broadcastMode,s=(0,C.U)().routeMode;return(0,P.jsx)("div",{className:"flex flex-col",children:(0,P.jsxs)("div",{className:"mb-2 flex flex-col gap-y-4",children:[(0,P.jsx)(Ye,{}),(0,P.jsx)(et,{}),(0,P.jsx)(Ee,{}),("priorityFees"===i||"mixed"===i)&&(0,P.jsx)(We,{}),("jito"===i||"mixed"===i)&&(0,P.jsx)(Qe,{}),(0,P.jsx)(ze,{}),(0,P.jsx)(at,{value:t,onClick:function(){return r(!t)}}),t&&"RFQ"===s&&(0,P.jsx)("div",{className:"my-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:(0,P.jsx)("p",{children:l.ag._({id:"I+3H2b"})})}),(0,P.jsx)(st,{value:n,onClick:function(){o(!n)}}),"RFQ"!==s&&(0,P.jsx)(it,{})]})})},ct=function(){var e=(0,C.U)(),t=e.profile,r=e.canSaveProfile,n=e.setProfile,o=e.setIsProfileModalOpen,i=e.isProfileModalOpen,s=function(){n("auto"===t?"manual":"auto")};return(0,P.jsx)(Ne.Z,{open:i,onClose:function(){return o(!1)},children:(0,P.jsxs)("div",{className:"flex max-h-[80vh] w-[95vw] flex-col justify-between overflow-auto rounded-lg border border-v2-lily/20 bg-[#1D252C] shadow-header-settings md:w-[440px]",children:[(0,P.jsx)("div",{className:"bg-v3 px-4 py-3 md:p-4",children:(0,P.jsxs)("div",{className:"flex flex-col",children:[(0,P.jsxs)("div",{className:"mb-2 flex items-center justify-between text-xl font-semibold",children:[(0,P.jsx)(c.cC,{id:"OmE3l+"}),(0,P.jsxs)("div",{className:"md:w[160px] flex h-[32px] w-[120px] items-center rounded-3xl bg-v2-perps-input p-1",children:[(0,P.jsx)(p.yw,{label:l.ag._({id:"cT9aR1"}),isActive:"auto"===t,onClick:s,buttonClassName:"w-[75px] h-full hover:text-labs/50 lg:w-20 rounded-3xl",buttonActiveClassName:"bg-labs/10",labelActiveClassName:"text-labs"}),(0,P.jsx)(p.yw,{label:l.ag._({id:"BWTzAb"}),isActive:"manual"===t,onClick:s,buttonClassName:"w-[75px] h-full lg:w-20 hover:text-labs/50 rounded-3xl",buttonActiveClassName:"bg-labs/10",labelActiveClassName:"text-labs"})]})]}),(0,P.jsx)("div",{className:"text-xs text-v2-lily/50",children:"auto"===t?(0,P.jsx)(c.cC,{id:"maD/UQ"}):(0,P.jsx)(c.cC,{id:"anm4ke"})})]})}),"manual"===t?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:(0,U.cn)("flex-1 overflow-y-auto bg-[#1D252C] px-5 pt-2 md:pt-6"),children:(0,P.jsx)(ut,{})}),(0,P.jsx)("div",{className:"bg-[#1D252C] px-5 py-4 md:py-6",children:(0,P.jsx)(be.Z,{type:"button",size:"md",disabled:!r,onClick:function(){return o(!1)},children:(0,P.jsx)(c.cC,{id:"yz7wBu"})})})]}):(0,P.jsx)("div",{className:"bg-[#1D252C] px-5 py-4 md:py-6",children:(0,P.jsx)(be.Z,{type:"button",size:"md",onClick:function(){return o(!1)},children:(0,P.jsx)(c.cC,{id:"yz7wBu"})})})]})})},lt=r(21029),dt=r(45390),pt=r(33305),ft=function(){function e(){(0,dt.Z)(this,e),(0,n.Z)(this,"attributes",{})}return(0,pt.Z)(e,[{key:"setAttribute",value:function(e,t){void 0!==t&&(this.attributes[e]=t)}},{key:"setAttributes",value:function(e){var t=this;Object.entries(e).forEach((function(e){var r=(0,s.Z)(e,2),n=r[0],o=r[1];t.setAttribute(n,o)}))}},{key:"logEvent",value:function(e){try{if(e)return void(0,ge.Kz)("SWAP_".concat(e),this.attributes);throw new Error("Swap status is required")}catch(t){console.error("Failed to log event:",t)}}},{key:"resetAttributes",value:function(){this.attributes={}}}]),e}(),mt=function(e){var t=e.loading,r=e.name,n=e.control,o=e.disabled,i=e.onFocus,s=e.onKeyDown,a=e.onPaste,u=e.placeholder,c=e.onChange,l=e.children,d=e.tokenInfo,p=j.useRef(null);return(0,P.jsx)(O.Qr,{name:r,control:n,rules:{required:"Required"},render:function(e){var n=e.field,f=n.onChange,m=n.value,x=n.onBlur,v=String((null===m||void 0===m?void 0:m.formattedValue)||"").length>=9?"text-xl md:text-2xl":"text-3xl";return(0,P.jsxs)("div",{className:"flex h-full flex-col text-right",children:[t||!d?(0,P.jsx)(J.O,{className:"ml-2 h-6 w-24 self-end"}):(0,P.jsx)(X.Z,{name:r,className:(0,U.cn)("h-[38px] font-semibold leading-9 outline-none disabled:!text-white",v),decimals:d.decimals,onChange:c?function(e){f(e),c(e)}:f,value:null===m||void 0===m?void 0:m.value,disabled:o,ref:p,onBlur:x,onFocus:i,onKeyDown:s,onPaste:a,placeholder:u}),(0,P.jsx)("span",{className:"mt-1 self-end",onClick:function(){var e;return null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.focus()},children:l})]})}})};function xt(){var e=(0,le.jB)(),t=e.asLegacyTransaction,r=e.setAsLegacyTransaction;return t?(0,P.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-white/[.15] bg-white/5 px-3 py-2 text-xs text-white/75",children:[(0,P.jsx)("p",{children:l.ag._({id:"FSg8E1"})}),(0,P.jsx)("div",{onClick:function(){return r(!1)},className:"text-primary-light mt-2 cursor-pointer underline",children:l.ag._({id:"SIRgQp"})})]}):null}var vt=r(60253),gt=r(69672),ht=function(e){var t,r,n=e.inputMint,o=e.outputMint,i=e.inAmount,s=e.outAmount,a=(0,le.y6)().tokenPriceMap,u=(0,le.Bn)().getTokenInfo,c=u(n.toBase58()),l=u(o.toBase58()),d=null===(t=a[n.toBase58()])||void 0===t?void 0:t.usd,p=b().toNumber(i),f=d&&c?new v.Z(d).mul(p).div(Math.pow(10,(null===c||void 0===c?void 0:c.decimals)||0)):null,m=null===(r=a[o.toBase58()])||void 0===r?void 0:r.usd,x=b().toNumber(s),g=m&&l?new v.Z(m).mul(x).div(Math.pow(10,(null===l||void 0===l?void 0:l.decimals)||0)):null,h=f&&g?g.div(f).sub(1).mul(100):null,y=!!h&&h.abs().gte(5),w=!!h&&(h.lt(0)&&h.abs().gte(.01));return{priceDifference:h,isHighPriceDifferece:y,isShowPriceDifference:w}},bt=function(e){var t=e.className;return(0,P.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,P.jsx)("path",{d:"M4.11894 6.99859H6.79173C7.96242 6.99859 8.92699 6.04958 8.94255 4.89521C8.94255 3.72452 7.97798 2.79183 6.79173 2.79183L4.75212 2.79109C4.54675 2.33215 4.08781 2 3.5503 2C2.82298 2 2.23725 2.60129 2.23725 3.31305C2.23725 4.0248 2.83854 4.62609 3.5503 4.62609C4.10414 4.62609 4.56232 4.29394 4.75212 3.835H6.79248C7.40934 3.835 7.91573 4.34139 7.91573 4.91079C7.91573 5.4802 7.40934 5.98659 6.79248 5.98659H4.15083C2.98013 5.98659 2.01556 6.93559 2 8.08997C2 9.27622 2.96457 10.1933 4.15083 10.1933H6.34911C6.55447 10.6523 7.01341 11 7.55093 11C8.27825 11 8.86398 10.3987 8.86398 9.68695C8.86398 8.95964 8.26269 8.37391 7.55093 8.37391C6.99709 8.37391 6.53891 8.70606 6.34911 9.165L4.13527 9.16574C3.51841 9.16574 3.01202 8.65935 3.01202 8.08995C3.01202 7.50498 3.50209 7.01415 4.11894 6.99859Z",fill:"currentColor"})})},yt=(r(68893),r(84111)),wt=function(e){var t=e.width,r=e.height,n=e.className;return(0,P.jsx)("div",{style:{maxWidth:t,height:r},className:"flex w-screen min-w-full items-center justify-center space-y-6 bg-white/5 p-5 backdrop-blur-[20px] ".concat(n),children:(0,P.jsx)(yt.Z,{})})},jt=function(){function e(t){switch((0,dt.Z)(this,e),(0,n.Z)(this,"quote",void 0),t.swapType){case"rfq":this.quote=this.toAggregatorQuote(t.quoteResponse);break;case"aggregator":case"ultra":this.quote=t.quoteResponse;break;default:this.quote=void 0}}return(0,pt.Z)(e,[{key:"getQuote",value:function(){return this.quote}},{key:"toAggregatorQuote",value:function(e){var t=e.orderInfo,r=e.maker,n=t.input,o=t.output,i=n.token,s=o.token,a=b().BigInt(n.endAmount),u=b().BigInt(o.endAmount),c=[{swapInfo:{ammKey:new x.PublicKey(r),label:we.RFQ_AMM_PROGRAM.label,inputMint:i.toString(),outputMint:s.toString(),inAmount:a,outAmount:u,feeAmount:b().BigInt(0),feeMint:x.PublicKey.default},percent:100}];return{swapType:"aggregator",inputMint:i,outputMint:s,inAmount:a,outAmount:u,routePlan:c,swapMode:"ExactIn",priceImpactPct:"0",otherAmountThreshold:b().BigInt(0),slippageBps:0,contextSlot:0}}}]),e}(),Ot=w()((function(){return r.e(7083).then(r.bind(r,77083))}),{loading:function(){return(0,P.jsx)(wt,{width:600,height:380})},loadableGenerated:{webpack:function(){return[77083]}}}),Tt=w()((function(){return r.e(6110).then(r.bind(r,76110))}),{loading:function(){return(0,P.jsx)(wt,{width:600,height:380})},loadableGenerated:{webpack:function(){return[76110]}}}),kt=function(e){var t=e.control,r=(0,O.qo)({control:t,name:"selectedQuote"}),n="Graphviz"===j.useMemo((function(){var e;return null===(e=localStorage)||void 0===e?void 0:e.getItem("preferred-graph")}),[])?Tt:Ot,o=j.useMemo((function(){if(!r)return null;var e=new jt(r);try{return e.getQuote()}catch(t){return void console.error(t)}}),[r]);return o?(0,P.jsx)(n,{quoteResponse:o}):null},Ct={"Orca V1":"Orca","Orca V2":"Orca","Lifinity V2":"Lifinity","Lifinity V1":"Lifinity",Whirlpool:"Orca","Raydium CLMM":"Raydium",Mercurial:"Meteora"},St=function(e){var t,r=e.loading,n=e.control,o=e.selectedQuote,i=(0,Q.JT)().openModal,s=j.useMemo((function(){return o?"rfq"===o.swapType?{splits:0,labels:new Set(["JupiterZ"]),ammKeys:new Set([o.quoteResponse.maker])}:"aggregator"===o.swapType||"ultra"===o.swapType?function(e){var t=0,r=new Set,n=new Set,o=new Set;return e.forEach((function(e){var i=e.swapInfo,s=i.inputMint,a=i.label,u=i.ammKey;o.has(s)?t+=1:o.add(s),n.add(u.toString()),r.add(Ct[a]||a)})),{splits:t,labels:r,ammKeys:n}}(o.quoteResponse.routePlan):null:null}),[o]),a=(0,He.Nr)(r,100),u=(0,He.Nr)(Boolean(!o||!s),100);return(0,P.jsxs)("button",{type:"button",className:(0,U.cn)("group relative flex items-center space-x-1 overflow-hidden transition-all",u?"h-0 opacity-0":"h-[22px] opacity-100",a?"pointer-events-none opacity-50 blur-xs":"opacity-100"),onClick:function(){i((0,P.jsx)(kt,{control:n}),{noCloseButton:!1,containerStyle:{background:"none"}})},children:[(0,P.jsx)("div",{className:(0,U.cn)("rounded-full border border-v2-primary","group-hover:from-v2-primary/25 group-hover:to-v2-primary/25"),children:(0,P.jsx)("span",{className:(0,U.cn)("flex items-center space-x-1 rounded-[100px] bg-[rgba(199,242,132,0.1)] text-xxs","group-hover:bg-[#3a474f]"),children:(0,P.jsxs)("span",{className:(0,U.cn)("flex items-center whitespace-nowrap px-2 py-0.5 text-v2-primary","font-semibold group-hover:text-v2-primary"),children:[(0,P.jsx)(bt,{className:"mb-px text-v2-primary group-hover:text-v2-primary"}),(0,P.jsxs)(P.Fragment,{children:[function(){var e=((null===s||void 0===s?void 0:s.splits)||0)+1;return e>1?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(c.cC,{id:"jNns1a",values:{numRoutes:e}})," ","+"," "]}):null}(),((null===s||void 0===s?void 0:s.ammKeys.size)||0)>0&&(0,P.jsx)(c.cC,{id:"lKVG55",values:{0:null!==(t=null===s||void 0===s?void 0:s.ammKeys.size)&&void 0!==t?t:""}})]})]})})}),(0,P.jsx)("div",{className:"flex w-full items-center justify-between space-x-2",children:(0,P.jsx)("span",{className:"max-w-[120px] truncate text-left text-xs text-white-50 group-hover:text-v2-primary md:max-w-[200px]",children:(null===s||void 0===s?void 0:s.labels)&&(0,P.jsx)(c.cC,{id:"74MSE4",values:{0:Array.from(s.labels).join(", ")}})})})]})},Nt=r(24406),At=function(e){var t=e.route,r=ht({inputMint:t.inputMint,outputMint:t.outputMint,inAmount:t.inAmount,outAmount:t.outAmount}),n=r.priceDifference,o=r.isHighPriceDifferece;return r.isShowPriceDifference?(0,P.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,P.jsx)("div",{className:"text-white-50",children:(0,P.jsx)(c.cC,{id:"T+qgFw"})}),n&&(0,P.jsx)("p",{className:(0,f.cn)("text-xs",o?"text-danger":"text-white-35"),children:l.ag._({id:"hbO8db",values:{0:n.toFixed(2)}})})]}):null},Pt=function(e){var t=e.control,r=e.loading,n=e.inputTokenInfo,o=e.outputTokenInfo,i=(0,j.useState)(!1),s=i[0],a=i[1],u=A().maxPriorityFeeInSol,c=(0,O.qo)({control:t,name:"selectedQuote"}),l=(0,j.useMemo)((function(){return"ultra"===(null===c||void 0===c?void 0:c.quoteResponse.swapType)?c.quoteResponse.feeBps/100:0}),[c]),d=c&&("aggregator"===c.swapType||"ultra"===c.swapType),p=(0,j.useMemo)((function(){return c?"aggregator"===c.swapType||"ultra"===c.swapType?{inAmount:c.quoteResponse.inAmount,outAmount:c.quoteResponse.outAmount}:"rfq"===c.swapType?{inAmount:c.quoteResponse.orderInfo.input.endAmount,outAmount:c.quoteResponse.orderInfo.output.endAmount}:{}:{}}),[c]),m=p.inAmount,x=p.outAmount,v=(0,j.useMemo)((function(){var e="ultra"===(null===c||void 0===c?void 0:c.quoteResponse.swapType)?c.quoteResponse.prioritizationFeeLamports:0;return e?e/1e9:0}),[c]);if(!c)return null;var g=function(){var e=c.swapType,t=c.quoteResponse;if("ultra"===e){var n="ultra"===t.swapType&&t.gasless;return(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsx)("div",{className:"text-xs text-v2-lily/50",children:"Network Fee"}),(0,P.jsxs)("div",{className:(0,f.cn)("flex items-center gap-x-1",{"pointer-events-none opacity-50 blur-xs":r}),children:[n&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Nt.J,{color:"#FDB022",width:12,height:12}),(0,P.jsx)("div",{className:"text-xs",children:"Gasless"})]}),(0,P.jsxs)("span",{className:(0,f.cn)("text-xs",{"line-through":n}),children:[v.toFixed(6)," SOL"]})]})]})}return"aggregator"===e?(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsx)("div",{className:"text-xs text-v2-lily/50",children:"Network Fee"}),(0,P.jsx)("div",{className:"flex items-center gap-x-1",children:(0,P.jsxs)("span",{className:(0,f.cn)("text-xs"),children:[u," SOL"]})})]}):"rfq"===e?(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsx)("div",{className:"text-xs text-v2-lily/50",children:"Network Fee"}),(0,P.jsx)("div",{className:"flex items-center gap-x-1",children:(0,P.jsxs)("span",{className:(0,f.cn)("text-xs"),children:[0," SOL"]})})]}):null};return(0,P.jsxs)("div",{className:"pb-4",children:[(0,P.jsx)(gt.Z,{className:"m-0"}),(0,P.jsxs)("div",{className:"flex px-4 pt-4",children:[m&&x&&(0,P.jsxs)("span",{className:"flex flex-row gap-x-1",children:[(0,P.jsx)("div",{className:"text-xs text-[#677683]",children:"Rate"}),(0,P.jsx)(vt.Z,{className:"text-xs font-medium text-v2-lily/90",inputAmount:m,outputAmount:x,inputPair:n,outputPair:o,reversible:!0})]}),(0,P.jsx)("div",{className:"flex w-full cursor-pointer items-center pr-2",onClick:function(){return a(!s)},children:(0,P.jsxs)("div",{className:"flex w-full items-center justify-end gap-x-2",children:[(0,P.jsxs)("div",{className:(0,f.cn)("justify-end text-xs font-semibold",0===l?"text-v2-primary":"text-v2-lily/50"),children:[l,"% FEE"]}),(0,P.jsx)(Ze.Z,{className:(0,f.cn)("h-2 w-2 text-[#677683]",s?"rotate-180":"")})]})})]}),s&&(0,P.jsxs)("div",{className:"mx-4 mt-4 flex flex-col gap-y-2 rounded-lg border border-v3-lily/10 p-3",children:[g(),d&&(0,P.jsx)(At,{route:c.quoteResponse}),(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsx)("div",{className:"text-xs text-v2-lily/50",children:"Route"}),(0,P.jsx)("div",{children:(0,P.jsx)(St,{loading:r,control:t,selectedQuote:c})})]})]})]})},Et=function(e){var t=e.onClickExactIn;return(0,P.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:[(0,P.jsx)("p",{children:l.ag._({id:"CkQDpF"})}),t&&(0,P.jsx)("div",{onClick:t,className:"mt-2 cursor-pointer underline",children:l.ag._({id:"/Kt5Cd"})})]})},It=function(){return(0,P.jsx)("div",{className:"bg-black/15 mt-2 rounded-lg border border-white/[.15] bg-white/5 px-4 py-3 text-xs text-white/75",children:(0,P.jsxs)("p",{children:[l.ag._({id:"STmZ8Q"})," ",(0,P.jsx)("span",{className:"inline-flex items-center gap-1 text-warning/75",children:l.ag._({id:"GT++8Q"})})]})})},Mt=function(e){var t=e.isExactOut,r=(0,C.U)().routeMode;return t?(0,P.jsx)(Et,{}):"RFQ"===r?(0,P.jsx)(It,{}):null},Rt=function(e){var t=e.title,r=e.className,n=e.content,o=(0,Me.XA)();return(0,P.jsx)(Ae.Z,{persistOnClick:o,placement:"top",drawShades:!0,buttonContentClassName:"!cursor-help",content:n,children:(0,P.jsx)("div",{className:(0,U.cn)("h-[21px] content-center rounded-full border px-2 text-xs",r),children:(0,P.jsx)("div",{className:"text-xxs",children:t})})})},Dt=function(e){var t=e.control,r=e.isQuoteLoading,n=(0,C.U)().profile,o=(0,O.qo)({control:t,name:"selectedQuote"}),i="ultra"===(null===o||void 0===o?void 0:o.quoteResponse.swapType)&&o.quoteResponse.gasless;(0,j.useMemo)((function(){return"ultra"===(null===o||void 0===o?void 0:o.quoteResponse.swapType)?o.quoteResponse.feeBps/100:0}),[o]);return(0,P.jsxs)("div",{className:"mt-3 flex content-center",children:["auto"===n?(0,P.jsxs)("div",{className:"flex w-full items-center justify-start gap-x-1",children:[(0,P.jsx)(Rt,{title:"OPTIMISED",className:"border-[#C7F284]/20 bg-[#C7F284]/10 text-[#C7F284]",content:(0,P.jsx)("div",{children:"Ultra automatically optimizes your trade for better landing"})}),i&&(0,P.jsx)(Rt,{title:"GASLESS",className:"border-[#4AC6FF]/20 bg-[#4AC6FF]/10 text-[#4AC6FF]",content:(0,P.jsx)("div",{children:"This is a gasless trade - Ultra will cover all gas fees."})}),(0,P.jsx)(Rt,{title:(0,P.jsxs)("div",{className:"flex items-center gap-x-1",children:["RTSE",r&&(0,P.jsx)(yt.Z,{width:10,height:10})]}),className:"border-[#B5ABFF]/20 bg-[#B5ABFF]/10 text-[#B5ABFF]",content:(0,P.jsxs)("div",{children:["Real-Time Slippage Estimation (RTSE) dynamically calculates the optimal slippage tolerance for your trade by:",(0,P.jsxs)("ul",{className:"mt-2 list-disc pl-4",children:[(0,P.jsx)("li",{children:"Analyzing current market conditions"}),(0,P.jsx)("li",{children:"Monitoring price impact and volatility"}),(0,P.jsx)("li",{children:"Adjusting slippage settings automatically to balance trade success and price protection"})]})]})})]}):null,"manual"===n?(0,P.jsx)("div",{className:"flex w-full items-start",children:(0,P.jsx)("div",{className:"min-w-0 flex-1",children:(0,P.jsx)(Zt,{})})}):null]})},Zt=function(){var e=R().slippage,t=(0,le.jB)(),r=t.useWSol,n=t.asLegacyTransaction,o=(0,C.U)().routeMode,i=(0,j.useMemo)((function(){return"RFQ"===o?"JupiterZ":"AMM"===o?"AMM":"Auto"}),[o]);return(0,P.jsxs)("div",{className:"flex flex-wrap gap-1",children:[void 0!==e&&(0,P.jsx)(Rt,{title:"Slippage: ".concat(He.uf.format(String(e)),"%"),className:"border-v2-lily/30 bg-v2-lily/10 text-v2-lily/40",content:(0,P.jsxs)("div",{children:["You set this fixed slippage to ",He.uf.format(String(e)),"%"]})}),(0,P.jsx)(Rt,{title:"Routing: ".concat(i),className:"border-v2-lily/30 bg-v2-lily/10 text-v2-lily/40",content:(0,P.jsxs)("div",{children:["You have selected ",i," routing mode"]})}),r&&(0,P.jsx)(Rt,{title:"wSOL",className:"border-v3-warning bg-v3-warning/10 text-v3-warning",content:(0,P.jsx)("div",{children:"You have enabled using wrapped SOL (wSOL) instead of native SOL"})}),n&&(0,P.jsx)(Rt,{title:"Legacy Transaction",className:"border-v3-error bg-v3-error/10 text-v3-error",content:(0,P.jsx)("div",{children:"You have enabled using legacy transaction"})})]})},Lt=r(5699),Ft=["width","height"];function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qt=function(e){var t=e.width,r=void 0===t?"8":t,n=e.height,o=void 0===n?"8":n,i=(0,_e.Z)(e,Ft);return(0,P.jsx)("svg",Bt(Bt({width:r,height:o,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),{},{children:(0,P.jsx)("g",{id:"tool-02",clipPath:"url(#clip0_5463_77660)",children:(0,P.jsx)("path",{id:"Icon",d:"M2.0013 1.99959L3.5013 3.49959M2.0013 1.99959H1.0013L0.667969 0.999593L1.0013 0.66626L2.0013 0.999593V1.99959ZM6.42096 0.913264L5.54509 1.78914C5.41309 1.92114 5.34708 1.98714 5.32235 2.06325C5.3006 2.1302 5.3006 2.20232 5.32235 2.26927C5.34708 2.34537 5.41309 2.41138 5.54509 2.54338L5.62418 2.62247C5.75618 2.75447 5.82219 2.82048 5.8983 2.84521C5.96524 2.86696 6.03736 2.86696 6.10431 2.84521C6.18042 2.82048 6.24642 2.75448 6.37843 2.62247L7.19773 1.80317C7.28597 2.01789 7.33464 2.25306 7.33464 2.49959C7.33464 3.51211 6.51382 4.33293 5.5013 4.33293C5.37923 4.33293 5.25995 4.321 5.14455 4.29824C4.98251 4.26628 4.90148 4.2503 4.85236 4.25519C4.80014 4.2604 4.77441 4.26823 4.72814 4.29299C4.68462 4.31628 4.64096 4.35994 4.55364 4.44725L2.16797 6.83292C1.89183 7.10906 1.44411 7.10906 1.16797 6.83292C0.891827 6.55678 0.891827 6.10906 1.16797 5.83292L3.55364 3.44725C3.64096 3.35993 3.68462 3.31628 3.70791 3.27276C3.73267 3.22649 3.7405 3.20075 3.7457 3.14853C3.7506 3.09941 3.73462 3.01839 3.70266 2.85634C3.6799 2.74095 3.66797 2.62166 3.66797 2.49959C3.66797 1.48707 4.48878 0.66626 5.5013 0.66626C5.83647 0.66626 6.15063 0.756201 6.42096 0.913264ZM4.00132 4.99957L5.83463 6.83289C6.11078 7.10903 6.55849 7.10903 6.83463 6.83289C7.11077 6.55675 7.11077 6.10903 6.83463 5.83289L5.32641 4.32469C5.21964 4.31459 5.11554 4.29533 5.0149 4.2677C4.88521 4.23211 4.74295 4.25794 4.64786 4.35304L4.00132 4.99957Z",stroke:"currentColor",strokeWidth:"0.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor"})})}))},Ut=function(e){var t=e.active,r=e.onClick,n=e.disabled,o=void 0!==n&&n;return(0,P.jsxs)("button",{type:"button",className:(0,U.cn)("relative flex h-5 w-10 cursor-pointer items-center rounded-full bg-[#111821] p-0.5",{},o&&"opacity-50"),disabled:o,onClick:function(){return r(!t)},children:[(0,P.jsx)("div",{className:"pointer-events-none absolute left-1.5 top-1/2 -translate-y-1/2",children:(0,P.jsx)(Nt.J,{className:(0,U.cn)("h-2.5 w-2.5 text-[#304052] opacity-100 transition-opacity duration-200")})}),(0,P.jsx)("div",{className:"pointer-events-none absolute right-1.5 top-1/2 -translate-y-1/2",children:(0,P.jsx)(qt,{className:(0,U.cn)("h-2.5 w-2.5 text-[#304052] opacity-100 transition-opacity duration-200")})}),(0,P.jsxs)("div",{className:(0,U.cn)("z-10 flex h-4 w-4 items-center justify-center rounded-full transition-transform duration-200 ease-in-out",t?"translate-x-0.3 bg-[linear-gradient(40deg,#00BEF0_0%,#C7F284_90%)]":"translate-x-5 border-v3-secondary bg-[#5C718A]"),children:[t&&(0,P.jsx)(Nt.J,{className:"h-2.5 w-2.5",color:"#111821"}),!t&&(0,P.jsx)(qt,{className:"h-2.5 w-2.5",color:"#111821"})]})]})},Vt=["width","height"];function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wt=function(e){var t=e.width,r=void 0===t?16:t,n=e.height,o=void 0===n?16:n,i=(0,_e.Z)(e,Vt);return(0,P.jsx)("svg",Kt(Kt({width:r,height:o,viewBox:"0 0 16 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},i),{},{children:(0,P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8567 10.1405C12.8175 9.92421 12.8439 9.70116 12.9327 9.50008C13.0172 9.3029 13.1575 9.13474 13.3364 9.01629C13.5152 8.89784 13.7248 8.83427 13.9393 8.83341H13.9993C14.353 8.83341 14.6921 8.69294 14.9422 8.44289C15.1922 8.19284 15.3327 7.8537 15.3327 7.50008C15.3327 7.14646 15.1922 6.80732 14.9422 6.55727C14.6921 6.30722 14.353 6.16675 13.9993 6.16675H13.886C13.6715 6.16589 13.4619 6.10233 13.283 5.98388C13.1042 5.86543 12.9639 5.69726 12.8793 5.50008V5.44675C12.7906 5.24567 12.7641 5.02262 12.8033 4.80636C12.8426 4.59009 12.9457 4.39053 13.0993 4.23341L13.1393 4.19341C13.2633 4.06958 13.3617 3.92253 13.4288 3.76067C13.4959 3.5988 13.5304 3.4253 13.5304 3.25008C13.5304 3.07486 13.4959 2.90136 13.4288 2.73949C13.3617 2.57763 13.2633 2.43058 13.1393 2.30675C13.0155 2.18278 12.8685 2.08443 12.7066 2.01733C12.5447 1.95024 12.3712 1.9157 12.196 1.9157C12.0208 1.9157 11.8473 1.95024 11.6854 2.01733C11.5236 2.08443 11.3765 2.18278 11.2527 2.30675L11.2127 2.34675C11.0556 2.50044 10.856 2.60354 10.6397 2.64275C10.4235 2.68196 10.2004 2.65549 9.99935 2.56675C9.80217 2.48224 9.634 2.34192 9.51555 2.16306C9.3971 1.9842 9.33354 1.77461 9.33268 1.56008V1.50008C9.33268 1.14646 9.19221 0.807321 8.94216 0.557272C8.69211 0.307224 8.35297 0.166748 7.99935 0.166748C7.64573 0.166748 7.30659 0.307224 7.05654 0.557272C6.80649 0.807321 6.66602 1.14646 6.66602 1.50008V1.61341C6.66516 1.82794 6.60159 2.03753 6.48314 2.21639C6.36469 2.39525 6.19653 2.53557 5.99935 2.62008H5.94602C5.74494 2.70882 5.52189 2.7353 5.30562 2.69608C5.08936 2.65687 4.8898 2.55377 4.73268 2.40008L4.69268 2.36008C4.56885 2.23611 4.4218 2.13777 4.25994 2.07067C4.09807 2.00357 3.92457 1.96903 3.74935 1.96903C3.57413 1.96903 3.40063 2.00357 3.23876 2.07067C3.0769 2.13777 2.92985 2.23611 2.80602 2.36008C2.68205 2.48391 2.5837 2.63096 2.5166 2.79283C2.4495 2.95469 2.41497 3.12819 2.41497 3.30341C2.41497 3.47863 2.4495 3.65214 2.5166 3.814C2.5837 3.97587 2.68205 4.12292 2.80602 4.24675L2.84602 4.28675C2.99971 4.44387 3.10281 4.64343 3.14202 4.85969C3.18123 5.07595 3.15476 5.299 3.06602 5.50008C2.98983 5.70724 2.85308 5.88668 2.67355 6.01509C2.49402 6.14349 2.28001 6.21492 2.05935 6.22008H1.99935C1.64573 6.22008 1.30659 6.36056 1.05654 6.61061C0.806491 6.86065 0.666016 7.19979 0.666016 7.55341C0.666016 7.90704 0.806491 8.24617 1.05654 8.49622C1.30659 8.74627 1.64573 8.88675 1.99935 8.88675H2.11268C2.32721 8.8876 2.5368 8.95117 2.71566 9.06962C2.89452 9.18807 3.03484 9.35623 3.11935 9.55341C3.20809 9.75449 3.23456 9.97754 3.19535 10.1938C3.15614 10.4101 3.05304 10.6096 2.89935 10.7667L2.85935 10.8067C2.73538 10.9306 2.63703 11.0776 2.56994 11.2395C2.50284 11.4014 2.4683 11.5749 2.4683 11.7501C2.4683 11.9253 2.50284 12.0988 2.56994 12.2607C2.63703 12.4225 2.73538 12.5696 2.85935 12.6934C2.98318 12.8174 3.13023 12.9157 3.2921 12.9828C3.45396 13.0499 3.62746 13.0845 3.80268 13.0845C3.9779 13.0845 4.15141 13.0499 4.31327 12.9828C4.47513 12.9157 4.62218 12.8174 4.74602 12.6934L4.78602 12.6534C4.94313 12.4997 5.14269 12.3966 5.35896 12.3574C5.57522 12.3182 5.79827 12.3447 5.99935 12.4334C6.20651 12.5096 6.38595 12.6464 6.51436 12.8259C6.64276 13.0054 6.71419 13.2194 6.71935 13.4401V13.5001C6.71935 13.8537 6.85982 14.1928 7.10987 14.4429C7.35992 14.6929 7.69906 14.8334 8.05268 14.8334C8.4063 14.8334 8.74544 14.6929 8.99549 14.4429C9.24554 14.1928 9.38602 13.8537 9.38602 13.5001V13.3867C9.38687 13.1722 9.45044 12.9626 9.56889 12.7838C9.68734 12.6049 9.8555 12.4646 10.0527 12.3801C10.2538 12.2913 10.4768 12.2649 10.6931 12.3041C10.9093 12.3433 11.1089 12.4464 11.266 12.6001L11.306 12.6401C11.4298 12.764 11.5769 12.8624 11.7388 12.9295C11.9006 12.9966 12.0741 13.0311 12.2493 13.0311C12.4246 13.0311 12.5981 12.9966 12.7599 12.9295C12.9218 12.8624 13.0689 12.764 13.1927 12.6401C13.3167 12.5162 13.415 12.3692 13.4821 12.2073C13.5492 12.0455 13.5837 11.872 13.5837 11.6967C13.5837 11.5215 13.5492 11.348 13.4821 11.1862C13.415 11.0243 13.3167 10.8772 13.1927 10.7534L13.1527 10.7134C12.999 10.5563 12.8959 10.3567 12.8567 10.1405ZM9.99935 7.50008C9.99935 8.60465 9.10392 9.50008 7.99935 9.50008C6.89478 9.50008 5.99935 8.60465 5.99935 7.50008C5.99935 6.39551 6.89478 5.50008 7.99935 5.50008C9.10392 5.50008 9.99935 6.39551 9.99935 7.50008Z",fill:"currentColor"})}))},zt=function(){var e=(0,C.U)().setIsProfileModalOpen,t=(0,j.useCallback)((function(){e(!0)}),[e]);return(0,P.jsx)("div",{className:"flex flex-row items-center",children:(0,P.jsx)("div",{id:"swap-settings-button",onClick:t,className:"flex cursor-pointer items-center rounded-full text-v3-lily/50 md:hover:border-v2-primary/50",children:(0,P.jsx)(Wt,{})})})},Ht=function(){var e=(0,C.U)(),t=e.profile,r=e.setProfile;return(0,P.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,P.jsx)("div",{className:(0,U.cn)("text-xs font-semibold",{"text-[#445B70]":"manual"===t,"text-[#E8F9FF]":"auto"===t}),children:"ULTRA"}),(0,P.jsx)(Ut,{active:"auto"===t,onClick:function(){r("auto"===t?"manual":"auto")}}),(0,P.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,P.jsx)("div",{className:(0,U.cn)("text-xs font-semibold",{"text-[#445B70]":"auto"===t,"text-[#E8F9FF]":"manual"===t}),children:"MANUAL"}),"manual"===t&&(0,P.jsx)(zt,{})]})]})},Jt=function(e){var t=e.onRefreshPress;return(0,P.jsxs)("div",{className:"mb-4 flex w-full flex-row justify-between px-4 pt-4",children:[(0,P.jsx)("div",{className:"flex flex-row items-center justify-between gap-x-1",children:(0,P.jsx)("div",{className:"items-center gap-x-2",children:(0,P.jsx)(Ht,{})})}),(0,P.jsx)("div",{className:"flex w-full flex-row justify-end",children:(0,P.jsx)("div",{id:"swap-settings-button",onClick:t,className:"cursor-pointer items-center rounded-full p-1.5 text-v3-lily/50 md:hover:border-v2-primary/50",children:(0,P.jsx)(Lt.Z,{})})})]})},Gt=r(87346),Xt=r(68806);var Yt=function(e){var t=e.tokenAddress,r=e.value,n=e.usdValueClassname,o=e.priceType,i=e.isLoading,s=e.inputMint,a=e.outputMint,u=e.outAmount,c=e.inAmount,d=ht({inputMint:s,outputMint:a,inAmount:c,outAmount:u}),p=d.priceDifference,m=d.isHighPriceDifferece,x=d.isShowPriceDifference,v=(0,j.useMemo)((function(){return a.toBase58()}),[a]),g=(0,Xt.P)([v],{select:function(e){return e.warnings[v].find((function(e){return e.type===Gt.v.NOT_SELLABLE.type}))}}),h=g.data;return g.isFetching||i?(0,P.jsx)(J.O,{className:"ml-2 mt-0.5 h-4 w-8 self-end"}):h?(0,P.jsx)("p",{className:"!text-xs font-normal text-danger",children:h.message}):null!==r&&void 0!==r&&r.value?(0,P.jsxs)("div",{className:(0,f.cn)("flex gap-x-1 text-xs text-white-35"),children:[(0,P.jsx)(G.Z,{tokenAddress:t,value:r,className:n,priceType:o}),p&&x&&(0,P.jsx)("p",{className:(0,f.cn)("text-xs",m?"text-danger underline":"text-white-35"),children:l.ag._({id:"O5vJ6Q",values:{0:p.toFixed(2)}})})]}):null};function $t(e){var t=e.quoteMeta,r=e.isLoading,n=e.tokenAddress,o=e.value;return r?(0,P.jsx)(J.O,{className:"ml-2 mt-0.5 h-4 w-8 self-end"}):"aggregator"===(null===t||void 0===t?void 0:t.swapType)||"ultra"===(null===t||void 0===t?void 0:t.swapType)?(0,P.jsx)(Yt,{isLoading:r,tokenAddress:n,inputMint:t.quoteResponse.inputMint,outputMint:t.quoteResponse.outputMint,outAmount:t.quoteResponse.outAmount,inAmount:t.quoteResponse.inAmount,value:o,usdValueClassname:"text-xs text-v2-lily/25"}):"rfq"===(null===t||void 0===t?void 0:t.swapType)&&null!==o&&void 0!==o&&o.value?(0,P.jsx)(Yt,{isLoading:r,tokenAddress:n,inputMint:t.quoteResponse.orderInfo.input.token,outputMint:t.quoteResponse.orderInfo.output.token,outAmount:t.quoteResponse.orderInfo.output.endAmount,inAmount:t.quoteResponse.orderInfo.input.endAmount,value:o,usdValueClassname:"text-xs text-v2-lily/25"}):null!==o&&void 0!==o&&o.value?(0,P.jsx)(G.Z,{tokenAddress:n,value:o,className:"text-xs text-v2-lily/25"}):(0,P.jsx)("div",{className:"text-xs text-v2-lily/25",children:"$0"})}var er=r(45009);function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nr=r(11805).env.NEXT_PUBLIC_JUPITER_QUOTE_API_URL||"https://quote-api.jup.ag/v6",or=function(){function e(){(0,dt.Z)(this,e),(0,n.Z)(this,"ROUTE",{PROGRAM_ID_TO_LABEL:"".concat(nr,"/program-id-to-label"),QUOTE:"".concat(nr,"/quote"),SWAP:"".concat(nr,"/swap")})}return(0,pt.Z)(e,[{key:"getProgramIdToLabel",value:function(){var e=(0,o.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.ROUTE.PROGRAM_ID_TO_LABEL,{method:"GET"});case 2:if((t=e.sent).ok){e.next=5;break}throw t;case 5:return e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getQuote",value:function(){var e=(0,o.Z)(u().mark((function e(t,r){var o,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new URLSearchParams(Object.entries(t).filter((function(e){var t=(0,s.Z)(e,2);t[0];return void 0!==t[1]})).reduce((function(e,t){var r=(0,s.Z)(t,2),o=r[0],i=r[1];return rr(rr({},e),{},(0,n.Z)({},o,i.toString()))}),{})),e.next=3,fetch("".concat(this.ROUTE.QUOTE,"?").concat(o.toString()),{signal:r});case 3:if((i=e.sent).ok){e.next=6;break}throw i;case 6:return e.next=8,i.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchSwapTransaction",value:function(){var e=(0,o.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.ROUTE.SWAP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((r=e.sent).ok){e.next=5;break}throw r;case 5:return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ir=new or;function sr(){return(0,er.a)({queryKey:["programIdToLabel"],queryFn:function(){var e=(0,o.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir.getProgramIdToLabel();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cacheTime:1/0,staleTime:1/0})}var ar,ur=r(41651),cr=r(21113),lr=r(83353),dr=r(19017),pr=r(39968),fr=r(18849),mr=r(62313),xr=r(77508),vr=r(11711),gr=r(57987),hr=r(12627),br=r(67785),yr=r(99497);function wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.ACCEPTED="accepted",e.REJECTED="rejected",e.PENDING="pending",e.FAILED="failed",e.INVALID="invalid"}(ar||(ar={}));var Or,Tr=r(11805).env.NEXT_PUBLIC_JUPITER_QUOTE_PROXY_API_URL||"https://ultra-api.jup.ag/proxy",kr=function(){function e(){(0,dt.Z)(this,e),(0,n.Z)(this,"ROUTE",{QUOTE:"".concat(Tr,"/quote"),SWAP:"".concat(Tr,"/swap")})}return(0,pt.Z)(e,[{key:"getQuote",value:function(){var e=(0,o.Z)(u().mark((function e(t,r){var o,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new URLSearchParams(Object.entries(t).filter((function(e){var t=(0,s.Z)(e,2);t[0];return void 0!==t[1]})).reduce((function(e,t){var r=(0,s.Z)(t,2),o=r[0],i=r[1];return jr(jr({},e),{},(0,n.Z)({},o,i.toString()))}),{})),e.next=3,fetch("".concat(this.ROUTE.QUOTE,"?").concat(o.toString()),{signal:r});case 3:if((i=e.sent).ok){e.next=6;break}throw i;case 6:return e.next=8,i.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"postRFQSwapTransaction",value:function(){var e=(0,o.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.kv)("".concat(this.ROUTE.SWAP,"?swapType=rfq"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),timeout:1e4});case 2:if((r=e.sent).ok){e.next=5;break}throw r;case 5:return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAggregatorSwapTransaction",value:function(){var e=(0,o.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.kv)("".concat(this.ROUTE.SWAP,"?swapType=aggregator"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),timeout:1e4});case 2:if((r=e.sent).ok){e.next=5;break}throw r;case 5:return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Cr=new kr,Sr=r(795).Buffer;function Nr(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ar(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,dr.Z)(e);if(t){var o=(0,dr.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,lr.Z)(this,r)}}!function(e){e.REJECTED="REJECTED",e.FAILED="FAILED",e.WALLET_SIGNING_FAILED="WALLET_SIGNING_FAILED",e.EXPIRED="EXPIRED"}(Or||(Or={}));var Mr=function(e){(0,cr.Z)(r,e);var t=Ir(r);function r(e,o,i){var s;return(0,dt.Z)(this,r),(s=t.call(this,e)).txid=i,(0,n.Z)((0,ur.Z)(s),"type",void 0),s.type=o,s.name="RFQSwapError",s}return(0,pt.Z)(r)}((0,pr.Z)(Error));function Rr(e,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,o.Z)(u().mark((function e(t,r){var n,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getParsedAccountInfo(x.SYSVAR_CLOCK_PUBKEY,r);case 2:return n=e.sent,o=n.value.data.parsed,i=o.info.unixTimestamp,e.abrupt("return",{slot:n.context.slot,unixTimestamp:i});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zr=function(){var e=(0,o.Z)(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr(t,"confirmed");case 2:return r=e.sent,n=r.unixTimestamp,o=r.slot,e.abrupt("return",{slot:o,unixTimestamp:new(Te())(n)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Lr=r(32532),Fr=r(27177),_r=function(){var e=(0,o.Z)(u().mark((function e(t,r){var n,o,i,s,a,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.broadcastMode,o=r.maxPriorityFeeInLamports,i=r.feeType,r.requestComputeBudgetLimit&&(0,Lr.Qm)(t,r.requestComputeBudgetLimit),s=(0,Lr.av)(t)||14e5,"jito"!==n){e.next=6;break}return(0,Lr.CF)(t,0),e.abrupt("return");case 6:if("exact-fee"!==i){e.next=10;break}return a=new v.Z(o).mul(Math.pow(10,6)).div(s).toDP(0).toNumber(),(0,Lr.CF)(t,a),e.abrupt("return");case 10:if(c=new v.Z(r.minimumFee).mul(Math.pow(10,6)).mul(Math.pow(10,9)).div(s).toDP(0).toNumber(),r.referenceFee){e.next=14;break}return console.error("Reference fee is not available"),e.abrupt("return");case 14:l=Math.max(r.referenceFee,c),d=new v.Z(s).mul(String(l)).div(Math.pow(10,6)).toDP(0),console.log("priorityFeeInLamports",d.toString()),new v.Z(d).gt(o)&&(l=new v.Z(o).mul(Math.pow(10,6)).div(s).toDP(0).toNumber(),console.log("Reference fee too high, exceeded user's max fee. Modifying CUP to ".concat(l))),(0,Lr.CF)(t,l);case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Br=function(e){var t=e.feeType,r=e.maxJitoTipInLamports,n=e.jitoFloor;if("exact-fee"===t)return r;var o=null===n||void 0===n?void 0:n.landed75;if(!o)return console.error("Jito floor is not available"),r;var i=new v.Z(o).mul(Math.pow(10,9)).toDP(0).toNumber();return Math.min(i,r)},qr=["title","description"];function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qr,Kr=r(3545),Wr=r(57406),zr=r(48052),Hr=(0,Wr.type)({ammKey:zr.k3,label:(0,Wr.string)(),inputMint:(0,Wr.string)(),outputMint:(0,Wr.string)(),inAmount:zr.lz,outAmount:zr.lz,feeAmount:zr.lz,feeMint:zr.k3}),Jr=(0,Wr.type)({swapInfo:Hr,percent:(0,Wr.integer)()}),Gr=(0,Wr.array)(Jr),Xr=(0,Wr.type)({swapType:(0,Wr.literal)("aggregator"),inputMint:zr.k3,inAmount:zr.lz,outputMint:zr.k3,outAmount:zr.lz,otherAmountThreshold:zr.lz,priceImpactPct:zr._L,swapMode:(0,Wr.enums)(["ExactIn","ExactOut"]),routePlan:Gr,slippageBps:(0,Wr.number)(),contextSlot:(0,Wr.number)(),computedAutoSlippage:(0,Wr.optional)((0,Wr.number)()),swapUsdValue:(0,Wr.optional)((0,Wr.nullable)((0,Wr.string)()))}),Yr=(0,Wr.type)({token:zr.k3,startAmount:zr.lz,endAmount:zr.lz}),$r=(0,Wr.type)({swapType:(0,Wr.literal)("rfq"),routing:(0,Wr.enums)(["spot","onchain"]),requestId:(0,Wr.string)(),quoteId:(0,Wr.string)(),maker:(0,Wr.string)(),orderInfo:(0,Wr.type)({input:Yr,output:Yr}),transaction:(0,Wr.nullable)((0,Wr.optional)((0,Wr.string)())),expireAt:(0,Wr.nullable)((0,Wr.optional)((0,Wr.string)()))}),en=(0,Wr.type)({inputMint:zr.k3,inAmount:zr.lz,outputMint:zr.k3,outAmount:zr.lz,otherAmountThreshold:zr.lz,priceImpactPct:zr._L,swapMode:(0,Wr.enums)(["ExactIn","ExactOut"]),routePlan:Gr,slippageBps:(0,Wr.number)(),contextSlot:(0,Wr.defaulted)((0,Wr.number)(),0),computedAutoSlippage:(0,Wr.optional)((0,Wr.number)()),transaction:(0,Wr.nullable)((0,Wr.string)()),swapType:(0,Wr.literal)("ultra"),gasless:(0,Wr.boolean)(),requestId:(0,Wr.string)(),prioritizationFeeLamports:(0,Wr.optional)((0,Wr.number)()),feeBps:(0,Wr.number)()});!function(e){var t=le.P7.map((function(e){return e.address}));function r(e,r,n){return(e===d.jr.ExactOut?[r]:[r,n]).filter((function(e){return!t||(null===t||void 0===t?void 0:t.includes(e))}))}function n(e){try{return{swapType:"aggregator",quoteResponse:(0,Wr.create)(e,Xr,"createAggregatorQuoteResponseMeta Error"),original:e}}catch(t){return void console.error(t)}}function o(e){try{return{swapType:"rfq",quoteResponse:(0,Wr.create)(e,$r,"createRfqQuoteResponseMeta Error"),original:e}}catch(t){return void console.error(t)}}function a(e){try{return{swapType:"ultra",quoteResponse:(0,Wr.create)(e,en,"createUltraQuoteResponseMeta Error"),original:e}}catch(t){return void console.error(t)}}e.getSupportedMints=r,e.getPltformFeeBps=function(e){var t=e.desiredFeeBps;return r(e.swapMode,e.inputMint,e.outputMint).length>0?t:void 0},e.getExcludeDexes=function(e){var t=e.programIdsExcluded,r=e.disabledProgramIds,n=e.programIdToLabelMap,o=Array.from([].concat((0,i.Z)(t),(0,i.Z)(r||[]))).map((function(e){return null===n||void 0===n?void 0:n.get(e)})).filter((function(e){return Boolean(e)}));return o.length?[o.filter(Boolean).join(",")]:void 0},e.hasExcludedJupiterRFQ=function(e){return e.has(we.RFQ_AMM_PROGRAM.ammProgramId)},e.createAggregatorQuoteResponseMeta=n,e.createRfqQuoteResponseMeta=o,e.createUltraQuoteResponseMeta=a,e.createQuoteResponseMetaFromProxy=function(e){switch(e.swapType){case"aggregator":return n(e);case"rfq":return o(e);case"ultra":return a(e);default:throw new Error("Unsupported kind ".concat(JSON.stringify(e)))}},e.getQuoteParamsOverrides=function(){try{var e={},t=localStorage.getItem("quoteParams");if(t){var r=JSON.parse(t);Object.assign(e,r)}var n=localStorage.getItem("quoteArgs");if(n)for(var o=JSON.parse(n),i=0,a=Object.entries(o);i<a.length;i++){var u=(0,s.Z)(a[i],2),c=u[0],l=u[1];e["quoteArg-".concat(c)]=l}return e}catch(d){return console.error(d),{}}}}(Qr||(Qr={}));var tn={LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:[6001,3005],CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:[6019],whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:[6023]},rn=r(795).Buffer;rn.from([229,23,203,151,122,227,173,42]),rn.from([193,32,155,51,65,214,156,129]),rn.from([208,51,239,151,123,43,237,92]),rn.from([176,209,105,168,154,125,69,62]);function nn(){return nn=(0,o.Z)(u().mark((function e(t,r){var n,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:4,e.abrupt("return",new Promise(function(){var e=(0,o.Z)(u().mark((function e(o){var i,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null,setTimeout((function(){o({simulatedResponse:i})}),5e3);case 2:if(!(n>=0)){e.next=26;break}if(e.prev=3,"swapTransaction"in r){e.next=6;break}return e.abrupt("return");case 6:if(s=void 0,!(r.swapTransaction instanceof x.VersionedTransaction)){e.next=11;break}s=r.swapTransaction,e.next=15;break;case 11:if(r.swapTransaction.feePayer){e.next=13;break}throw new Error("No fee payer found");case 13:a=new x.TransactionMessage({payerKey:r.swapTransaction.feePayer,recentBlockhash:r.blockhash,instructions:r.swapTransaction.instructions}).compileToV0Message(),s=new x.VersionedTransaction(a);case 15:return e.next=17,t.simulateTransaction(s,{replaceRecentBlockhash:!0,commitment:"processed",innerInstructions:!0});case 17:return i=e.sent,e.abrupt("break",26);case 21:e.prev=21,e.t0=e.catch(3),n--;case 24:e.next=2;break;case 26:o({simulatedResponse:i});case 27:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),nn.apply(this,arguments)}var on=function(e,t,r,n){var o=(0,d.oB)(e,new x.PublicKey(t),new x.PublicKey(r)),i=(0,s.Z)(o,2),a=(i[0],i[1]);return"ExactIn"===n.quoteResponse.swapMode?new v.Z(a.toString()).div(n.quoteResponse.outAmount.toString()).minus(1).mul(-1e4):new v.Z(n.quoteResponse.inAmount.toString()).div(a.toString()).minus(1).mul(-1e4)};function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function un(e){return e.map((function(e){return an(an({},e),{},{data:Object.keys(e.data).reduce((function(t,r){var n;return e.data&&null!==(n=e.data[r])&&void 0!==n&&n.toString?t[r]=e.data[r].toString():t[r]=e.data,t}),{})})}))}function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dn=function(e){var t=e.txid,r=e.inputMint,n=e.outputMint,o=e.transactionResponse,i=e.jitoResponse,a=e.jitoTipAmount,u=e.hasWrappedSOL,c=e.publicKey,l=e.fromPairTokenInfo,p=e.toPairTokenInfo,m=e.selectedQuote;try{var x,g=(0,d.Od)({txid:t,inputMint:r,outputMint:n,hasWrappedSOL:u,transactionResponse:o,user:c}),h=(0,s.Z)(g,2),b=h[0],y=h[1],w=l.symbol,j=new v.Z(b).div(Math.pow(10,l.decimals)),O=f.uf.format(j),T=p.symbol,k=new v.Z(y).div(Math.pow(10,p.decimals)),C=f.uf.format(k),S=y?new v.Z(y).div(m.quoteResponse.outAmount.toString()).minus(1).mul(-1e4).toNumber():null,N=S?new v.Z(S).div(100).toFixed(2):null,A=!(null===i||void 0===i||!i.result)||void 0,P=A&&a?(0,f.lt)(a,9):null!==(x=o.meta)&&void 0!==x&&x.fee?(0,f.lt)(o.meta.fee,9):void 0;return{sourceTokenBalanceChange:b,destinationTokenBalanceChange:y,inputSymbol:w,inputAmount:j,formattedInputAmount:O,outputSymbol:T,outputAmount:k,formattedOutputAmount:C,incurredSlippageBps:S,incurredSlippagePct:N,feeInSOL:P,jitoLanded:A}}catch(E){return null}};function pn(e,t,r,n,o,i,s,a,u,c,l){(function(e,t){return nn.apply(this,arguments)})(e,ln(ln({},t),{},{swapTransaction:r,blockhash:n}),0).then((function(e){var r,n,p,f,m=e.simulatedResponse;if(m){var x=function(e,t,r,n){var o=null,i=(0,d.i9)(e.value.innerInstructions||[]),s=i.filter((function(e){return"SwapEvent"===e.name})),a=on(s,t,r,n);return e.value.err&&(o=(0,Lr.nR)({err:e.value.err,logMessages:(null===e||void 0===e?void 0:e.value.logs)||[]})),{simulatedIncurredSlippage:a,rejectedSimulationError:o,eventSimulation:i}}(m,o,i,a);n=x.simulatedIncurredSlippage,p=x.rejectedSimulationError,f=x.eventSimulation}l.setAttributes(ln(ln({rejectedSimulationError:p,events:un(f||[]),error:s.error.error},u),{},{pingInSecond:(Date.now()-c)/1e3,rejectedSimulationSlippage:null===(r=n)||void 0===r?void 0:r.toNumber(),quoteContextSlot:a.quoteResponse.contextSlot,rejectedSimulationSlot:null===m||void 0===m?void 0:m.context.slot,dynamicSlippageReport:t.dynamicSlippageReport})),l.logEvent(pe.qt.REJECTED),l.resetAttributes()})).catch((function(){}))}function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xn(e){return e.map((function(e){return mn(mn({},e),{},{data:Object.keys(e.data).reduce((function(t,r){var n;return e.data&&null!==(n=e.data[r])&&void 0!==n&&n.toString?t[r]=e.data[r].toString():t[r]=e.data,t}),{})})}))}var vn,gn=r(795).Buffer;function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yn(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wn(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,dr.Z)(e);if(t){var o=(0,dr.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,lr.Z)(this,r)}}!function(e){e.ABORTED="ABORTED",e.FETCH_FAILED="FETCH_FAILED"}(vn||(vn={}));var On=function(e){(0,cr.Z)(r,e);var t=jn(r);function r(e,o){var i;return(0,dt.Z)(this,r),i=t.call(this,e),(0,n.Z)((0,ur.Z)(i),"type",void 0),i.type=o,i}return(0,pt.Z)(r)}((0,pr.Z)(Error));function Tn(){var e=(0,le.W2)(),t=(0,le.jB)(),r=function(){var e=(0,j.useRef)(),t=(0,le.Bn)().connection,r=(0,le.W2)();(0,j.useEffect)((function(){null!==r&&void 0!==r&&r.referrerAccount&&r.feeBps&&(e.current={referralAccount:null===r||void 0===r?void 0:r.referrerAccount,feeBps:null===r||void 0===r?void 0:r.feeBps})}),[null===r||void 0===r?void 0:r.feeBps,null===r||void 0===r?void 0:r.referrerAccount]);var n=(0,j.useCallback)((function(t,r){e.current&&(e.current.feeAccounts||(e.current.feeAccounts=new Map),e.current.feeAccounts.set(t,r))}),[]),i=(0,j.useCallback)(function(){var r=(0,o.Z)(u().mark((function r(o){var i,s,a,c,l;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=e.current,a=null===s||void 0===s||null===(i=s.feeAccounts)||void 0===i?void 0:i.get(o),c=null===s||void 0===s?void 0:s.feeBps,!a){r.next=5;break}return r.abrupt("return",a);case 5:if(null!==a&&c){r.next=7;break}return r.abrupt("return");case 7:if(null===s||void 0===s||!s.referralAccount){r.next=14;break}return r.next=10,(0,d.gU)({connection:t,referralAccount:s.referralAccount,mint:new x.PublicKey(o)});case 10:if(l=r.sent,n(o,l),!l){r.next=14;break}return r.abrupt("return",l);case 14:return r.abrupt("return");case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,n]);return{getPlatformFeeAccount:i}}(),n=r.getPlatformFeeAccount,a=A(),p=a.maxPriorityFeeInLamports,f=a.broadcastMode,v=(0,le.Os)().publicKey,h=(0,F.m)().data,b=function(){var e=(0,Fr.lm)().toast,t=(0,m.Rc)(),r=(0,me.SR)(),n=r.addNotificationTx,s=r.updateNotificationMetadata,a=r.updateNotificationTxStatus,d=A(),p=d.feeType,f=d.maxJitoTipInLamports,x=d.maxPriorityFeeInLamports,v=d.broadcastMode,g=(0,Me.ay)({enabled:"priorityFees"!==v}).data,h=(0,m.Os)(),b=h.publicKey,y=h.signAllTransactions,w=(0,j.useCallback)(function(){var r=(0,o.Z)(u().mark((function r(d,m,h){var w,j,O,T,k,C,S,N,A,E,I,M,R,D,Z,L,F,_,B,q,U,Q,K,W,z;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(j=m.extraSigners,O=m.blockhash,T=m.lastValidBlockHeight,k=m.idl,C=m.idlProgramId,S=m.skipPreflight,b&&y){r.next=3;break}throw new Error("Wallet not connected");case 3:return N="",A=void 0,E=void 0,I=void 0,r.next=9,_r(d,{minimumFee:h.minimumFee,referenceFee:h.referenceFee,broadcastMode:v,maxPriorityFeeInLamports:x,feeType:p,requestComputeBudgetLimit:h.requestComputeBudgetLimit});case 9:return M=null!==(w=h.toastId)&&void 0!==w?w:(0,V.w)(),r.prev=10,R=h.submittingMessage,r.prev=12,j&&j.length>0&&("version"in d?d.sign(j):(D=d).sign.apply(D,(0,i.Z)(j))),e({duration:!1,id:M,render:function(e){return(0,P.jsx)(yr.x,Vr({},e))},closeOnClick:!1}),n(M,{status:"loading",txid:N,stepText:l.ag._({id:"5Xu+kY"})}),"mixed"!==v&&"jito"!==v||(I=Br({feeType:p,maxJitoTipInLamports:f,jitoFloor:g}),E=(0,Lr.AC)({payer:b,lamports:String(I),blockhash:O,lastValidBlockHeight:T})),Z=[d,E].filter(Boolean),console.log("transaction sent",{broadcastMode:v,jitoTip:I,jitoFloor:g}),L=(0,He.VF)(Z),r.next=22,y(Z);case 22:F=r.sent,d=F[0],E&&(E=F[1]),N=(0,Lr.o$)(d),(_=(0,He.VF)(F))!==L&&(0,ge.Kz)("User transaction has been modified",{before:L,after:_,txid:N}),r.next=36;break;case 30:return r.prev=30,r.t0=r.catch(12),n(M,{status:"fail-no-txid",txid:"",stepText:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{children:r.t0.message}),(0,P.jsx)(c.cC,{id:"a9VzXt"})]}),error:r.t0}),s(M,{customTitle:l.ag._({id:"db6r9K"})}),e({duration:5e3,id:M,render:function(e){return(0,P.jsx)(yr.x,Vr({},e))},closeOnClick:!1}),r.abrupt("return",{success:!1,error:r.t0});case 36:return n(M,{status:"loading",txid:N,stepText:R}),B=!1,r.next=40,new Promise(function(){var r=(0,o.Z)(u().mark((function r(n,o){var i,c,l;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.confirmTransaction({signature:N,blockhash:O,lastValidBlockHeight:T},"processed").then((function(e){B||e.value.err||(a(M,{status:"processed",txid:N,stepText:R}),h.autoResolveOnProcessed&&setTimeout((function(){return n({success:!1,status:"unknown",txid:N})}),1e3))})).catch((function(e){o(e)})),e({duration:!1,id:M,render:function(e){return(0,P.jsx)(yr.x,Vr({},e))},closeOnClick:!1}),h.onSending&&h.onSending(),r.next=5,(0,Lr.ie)({connection:t,blockhash:O,lastValidBlockHeight:T,idl:k,idlProgramId:C,signedTransaction:d,skipPreflight:null===S||void 0===S||S,broadcastMode:v,jitoTipTx:E});case 5:if(A=r.sent,B=!0,!("error"in A)){r.next=9;break}return r.abrupt("return",o(A.error));case 9:return i="resolveSuccessTitleAndDescription"in h?h.resolveSuccessTitleAndDescription(A.transactionResponse,A.txid,A.jitoResponse,I):{title:h.successMessage,description:""},c=i.title,l=i.description,s(M,{customTitle:c,description:l}),a(M,{status:"success",stepText:null}),r.abrupt("return",n({success:!0,txid:N,transactionResponse:A.transactionResponse,jitoResponse:A.jitoResponse,jitoTipAmount:I}));case 13:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}());case 40:if(!("error"in(q=r.sent))){r.next=43;break}throw q;case 43:return r.abrupt("return",q);case 46:return r.prev=46,r.t1=r.catch(10),U=l.ag._({id:"u3ZeYl"}),r.t1 instanceof Lr.qw&&(U=r.t1.message),Q="resolveErrorTitleAndDescription"in h?h.resolveErrorTitleAndDescription(r.t1,A):{title:h.errorMessage,description:U},K=Q.title,W=Q.description,z=(0,_e.Z)(Q,qr),s(M,Vr({customTitle:K,description:W},z)),r.t1.txid?a(M,{status:"fail",error:r.t1,stepText:""}):a(M,{status:"fail-no-txid",error:r.t1,stepText:""}),r.abrupt("return",{success:!1,txid:N,error:r.t1});case 54:case"end":return r.stop()}}),r,null,[[10,46],[12,30]])})));return function(e,t,n){return r.apply(this,arguments)}}(),[b,y,n,e,v,x,p,f,g,s,t,a]);return w}(),y=(0,g.KO)(Ke.yz),w=(0,s.Z)(y,1)[0],O=(0,Me.lm)().toast,T=sr().data,k=(0,j.useMemo)((function(){return T?new Map(Object.entries(T)):new Map}),[T]),C=(0,vr.NL)(),S=(0,le.Bn)().connection,N=(0,j.useCallback)(function(){var e=(0,o.Z)(u().mark((function e(t){var r,o,i,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=yn(t),e.prev=1,r.s();case 3:if((o=r.n()).done){e.next=12;break}return i=o.value,e.next=7,n(i);case 7:if(!(s=e.sent)){e.next=10;break}return e.abrupt("return",s);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.abrupt("return",void 0);case 21:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[n]),E=(0,j.useCallback)(function(){var e=(0,o.Z)(u().mark((function e(r,n){var o,i,s,a,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=n.quoteResponse,i=n.original,0===(s=Qr.getSupportedMints(o.swapMode,o.inputMint.toString(),o.outputMint.toString())).length){e.next=9;break}return e.next=6,N(s);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=void 0;case 10:return a=e.t0,c={quoteResponse:i,userPublicKey:r,wrapAndUnwrapSol:!t.useWSol,feeAccount:null===a||void 0===a?void 0:a.toBase58(),dynamicComputeUnitLimit:!0,correctLastValidBlockHeight:!0,asLegacyTransaction:t.asLegacyTransaction,allowOptimizedWrappedSolTokenAccount:!0,addConsensusAccount:"priorityFees"===f,prioritizationFeeLamports:{priorityLevelWithMaxLamports:{maxLamports:p,global:!1,priorityLevel:"veryHigh"}},blockhashSlotsToExpiry:null===h||void 0===h?void 0:h.swapSettings.blockhashSlotsToExpiry},e.next=14,Cr.getAggregatorSwapTransaction(c);case 14:if(!("error"in(l=e.sent))){e.next=18;break}throw console.error("Error in swapTransaction",l.error),l.error;case 18:return e.abrupt("return",l);case 21:if(e.prev=21,e.t1=e.catch(0),!(0,br.isAbortError)(e.t1)){e.next=25;break}throw new On("Request timed out",vn.ABORTED);case 25:if(!(e.t1 instanceof Response)){e.next=30;break}return e.next=28,e.t1.json();case 28:throw d=e.sent,new On(d.error,vn.FETCH_FAILED);case 30:throw new On(e.t1 instanceof Error?e.t1.message:JSON.stringify(e.t1),vn.FETCH_FAILED);case 31:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,r){return e.apply(this,arguments)}}(),[t.useWSol,t.asLegacyTransaction,f,p,null===h||void 0===h?void 0:h.swapSettings.blockhashSlotsToExpiry,N]),I=(0,j.useCallback)((function(e,t,r){var n,o=e.programIds,i=e.code,a=e.message,u=function(e,t){var r=(null===e||void 0===e?void 0:e.reduce((function(e,r){var n=t.get(r);return n?[n,r]:e}),["",""]))||["",""],n=(0,s.Z)(r,2);return[n[0],n[1]]}(o,k),c=(0,s.Z)(u,2),p=c[0],f=c[1],m=i&&(null===(n=tn[f])||void 0===n?void 0:n.includes(i));return p&&!m?function(e,t,r,n){return e(),{title:l.ag._({id:"A5SJF8",values:{faultyAmmLabel:t}}),description:r?l.ag._({id:"r3e05H",values:{code:r}}):n,shouldShowFeedbackLink:!0}}((function(){return r(p,f)}),p,i,a):i===d.sv.SlippageToleranceExceeded.code||m?function(e){var t=null!==e&&void 0!==e&&e.incurredSlippagePct?Number(null===e||void 0===e?void 0:e.incurredSlippagePct):null;return t?{title:l.ag._({id:"Ql8gPs"}),description:(0,P.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,P.jsx)("p",{children:l.ag._({id:"A4rcdv",values:{incurredSlippagePct:t}})}),(0,P.jsx)("p",{children:l.ag._({id:"XU0vnD"})})]}),shouldShowFeedbackLink:!1}:{title:l.ag._({id:"IZu71w"}),description:l.ag._({id:"9l/HZb"}),shouldShowFeedbackLink:!1}}(t):function(e,t){switch(t){case d.sv.BalancesNotExtractedProperly.code:return{title:l.ag._({id:"KEtDKy"}),shouldShowFeedbackLink:!0};case d.sv.TransactionNotConfirmed.code:return{title:l.ag._({id:"XLzgMr"}),description:l.ag._({id:"fnUfx2"}),shouldShowFeedbackLink:!1};case d.sv.TransactionExpiredBlockheightExceeded.code:return{title:l.ag._({id:"HxpEyw"}),description:l.ag._({id:"jsGkrq"}),shouldShowFeedbackLink:!0};case d.sv.InsufficientSOL.code:return{title:l.ag._({id:"GyFBKR"}),description:l.ag._({id:"Qfmu8/"}),shouldShowFeedbackLink:!0};case d.sv.FrozenAccount.code:return{title:l.ag._({id:"MDUjKS"}),description:l.ag._({id:"Xl2KCt"}),shouldShowFeedbackLink:!0}}return{title:e||(null===t||void 0===t?void 0:t.toString())||"",description:t?l.ag._({id:"r3e05H",values:{code:t}}):e,shouldShowFeedbackLink:!0}}(a,i)}),[k]),M=(0,j.useCallback)(function(){var r=(0,o.Z)(u().mark((function r(n){var o,i,s,a,c,p,f,m,g,h,y,j,T,k,N,A,P,M,R,D,Z,L,F,_;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.params,i=n.swapEventLogger,s=n.generalTrackingProperties,a=n.onSending,c=n.onExcludeFaultyAmm,r.prev=1,v){r.next=4;break}throw new Error("Wallet not found");case 4:return p=o.toastId,f=o.user,m=o.selectedQuote,g=o.fromTokenInfo,h=o.toTokenInfo,y=Date.now(),j=m.quoteResponse,null===e||void 0===e||e.persistReferrer(),T={startTime:void 0},k=[],r.next=12,E(f.toString(),m);case 12:return(N=r.sent).simulationError&&(0,ge.Kz)(pe.f9,bn(bn({},s),N.simulationError)),A=Uint8Array.from(gn.from(N.swapTransaction,"base64")),P=t.asLegacyTransaction,M=P?x.Transaction.from(A):x.VersionedTransaction.deserialize(A),R=(0,Lr.eD)(M),D=(0,d.YC)(M),Z=t.useWSol,L={idl:d.GS,idlProgramId:d.Cc,blockhash:D,lastValidBlockHeight:N.lastValidBlockHeight,skipPreflight:!0},r.next=23,b(M,L,{referenceFee:R?Number(R):w.jup2.vh,minimumFee:Ke.uo||0,toastId:p,submittingMessage:null,autoResolveOnProcessed:!0,onSending:function(){T.startTime=Date.now(),null===a||void 0===a||a()},resolveSuccessTitleAndDescription:function(t,r,n,o){var a;k=(0,d.vw)(t);var u,c=dn({hasWrappedSOL:Z,publicKey:v,fromPairTokenInfo:g,toPairTokenInfo:h,selectedQuote:m,txid:r,inputMint:j.inputMint,outputMint:j.outputMint,transactionResponse:t,jitoResponse:n,jitoTipAmount:o}),p=null!==c&&void 0!==c?c:{},f=p.formattedInputAmount,x=p.inputSymbol,b=p.formattedOutputAmount,y=p.outputSymbol,w=c?l.ag._({id:"H1Onsb",values:{formattedInputAmount:f,inputSymbol:x,formattedOutputAmount:b,outputSymbol:y}}):l.ag._({id:"Cleqqa"}),O={feeInSOL:null===c||void 0===c?void 0:c.feeInSOL,txid:r,sourceTokenBalanceChange:null===c||void 0===c?void 0:c.sourceTokenBalanceChange,destinationTokenBalanceChange:null===c||void 0===c?void 0:c.destinationTokenBalanceChange,incurredSlippage:null===c||void 0===c?void 0:c.incurredSlippageBps,events:un(k),computeUnitsConsumed:null===(a=t.meta)||void 0===a?void 0:a.computeUnitsConsumed,dynamicSlippageReport:N.dynamicSlippageReport,jitoLanded:null===c||void 0===c?void 0:c.jitoLanded};(T.startTime&&(i.setAttributes(bn(bn({},O),{},{ping:(Date.now()-T.startTime)/1e3})),i.logEvent(pe.qt.SUCCESS),i.resetAttributes()),null!==e&&void 0!==e&&e.referrerAccount)&&(0,ge.Kz)(pe.Yl,bn(bn(bn({},s),O),{},{referrerAccount:e.referrerAccount.toString(),feeBps:null===(u=e.feeBps)||void 0===u?void 0:u.toString()}));return{title:"",description:w}},resolveErrorTitleAndDescription:function(e,t){if(e instanceof x.TransactionExpiredBlockheightExceededError)return{title:l.ag._({id:"DkFCBK"}),description:l.ag._({id:"fuwKpE"})};var r=(0,d.IS)(e),n=r.txid&&null!==t&&void 0!==t&&t.transactionResponse?dn({hasWrappedSOL:Z,publicKey:v,fromPairTokenInfo:g,toPairTokenInfo:h,selectedQuote:m,txid:r.txid,inputMint:j.inputMint,outputMint:j.outputMint,transactionResponse:t.transactionResponse}):null,o=I(r,n,c);return i.setAttributes(bn(bn(bn({},r),o),{},{sourceTokenBalanceChange:null===n||void 0===n?void 0:n.sourceTokenBalanceChange,destinationTokenBalanceChange:null===n||void 0===n?void 0:n.destinationTokenBalanceChange,incurredSlippage:null===n||void 0===n?void 0:n.incurredSlippageBps,events:xn(k),pingInSecond:T.startTime?(Date.now()-T.startTime)/1e3:void 0,feeInSOL:null===n||void 0===n?void 0:n.feeInSOL,dynamicSlippageReport:N.dynamicSlippageReport})),i.logEvent(pe.qt.FAILED),i.resetAttributes(),o}});case 23:return(F=r.sent).success?C.invalidateQueries({queryKey:[le.gj]}):"error"in F&&F.error&&4001===(null===(_=F.error.error)||void 0===_?void 0:_.code)&&pn(S,N,M,D,g.address,h.address,F,m,s,y,i),r.abrupt("return",F);case 28:if(r.prev=28,r.t0=r.catch(1),console.log("Error performing swap",r.t0),!(r.t0 instanceof On)){r.next=34;break}throw r.t0.type===vn.ABORTED?O({title:"Request timed out",description:"Please try again",variant:Kr.Lb.INFO,duration:1e4}):(i.setAttributes({fetchSwapTransactionError:r.t0.message}),i.logEvent(pe.qt.FAILED),i.resetAttributes(),O({title:"Failed to fetch swap transaction",description:"Please contact Jupiter in the discord with the transaction signature for help.",variant:Kr.Lb.INFO,duration:1e4})),r.t0;case 34:throw r.t0.message.includes(Lr.jU.TRANSACTION_TOO_LARGE)&&(0,ge.Kz)(pe.f9,bn(bn({},s),{},{message:Lr.jU.TRANSACTION_TOO_LARGE})),r.t0;case 36:case"end":return r.stop()}}),r,null,[[1,28]])})));return function(e){return r.apply(this,arguments)}}(),[v,e,E,t.asLegacyTransaction,t.useWSol,b,w.jup2.vh,I,C,S,O]);return{aggregatorSwap:M}}var kn=r(23960);function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nn=function(){function e(){(0,dt.Z)(this,e)}return(0,pt.Z)(e,[{key:"fetch",value:function(){var e=(0,o.Z)(u().mark((function e(t,r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ultra"!==t.swapType){e.next=5;break}return e.next=3,kn.E.getQuote({inputMint:t.inputMint,outputMint:t.outputMint,amount:t.amount,taker:t.taker},r);case 3:return n=e.sent,e.abrupt("return",Sn(Sn({},n),{},{swapType:"ultra"}));case 5:return e.next=7,Cr.getQuote(t,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getQuote",value:function(){var e=(0,o.Z)(u().mark((function e(t,r){var n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(t,r);case 2:return n=e.sent,o=Qr.createQuoteResponseMetaFromProxy(n),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),An=new Nn,Pn=function(e){var t=e.amount,r=e.fromTokenAddress,n=e.toTokenAddress;return!!t&&!!n&&!!r&&!b().equal(t,b().BigInt(0))};var En,In=r(795).Buffer;function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,dr.Z)(e);if(t){var o=(0,dr.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,lr.Z)(this,r)}}!function(e){e.REJECTED="REJECTED",e.FAILED="FAILED",e.WALLET_SIGNING_FAILED="WALLET_SIGNING_FAILED"}(En||(En={}));var Zn=function(e){(0,cr.Z)(r,e);var t=Dn(r);function r(e,o,i){var s;return(0,dt.Z)(this,r),s=t.call(this,e),(0,n.Z)((0,ur.Z)(s),"type",void 0),(0,n.Z)((0,ur.Z)(s),"txid",void 0),s.type=o,s.txid=i,s}return(0,pt.Z)(r)}((0,pr.Z)(Error));var Ln=r(11805);function Fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var _n=w()((function(){return r.e(1923).then(r.bind(r,21923))}),{ssr:!1,loadableGenerated:{webpack:function(){return[21923]}}}),Bn=w()((function(){return Promise.resolve().then(r.bind(r,31749))}),{ssr:!1,loadableGenerated:{webpack:function(){return[31749]}}}),qn=function(e){var t=e.fixedTokenAddress,r=e.inToken,a=e.outToken,h=e.onTokenChange,y=(0,m.Os)(),w=y.address,S=y.walletMeta,N=y.publicKey,E=(0,m.y6)().getUSDValue,I=j.useRef(null),D=(0,lt.Z)().refetch,_=(0,m.C9)(),z=(0,m.jB)(),J=j.useState(new Set),G=(0,s.Z)(J,2),X=G[0],$=G[1],ee=j.useMemo((function(){return new ft}),[]),te=(0,O.cI)({defaultValues:{fromTokenAddress:"",toTokenAddress:"",toastId:j.useMemo((function(){return(0,V.w)()}),[])},mode:"all",criteriaMode:"all"}),re=te.handleSubmit,oe=te.setValue,ie=te.reset,de=te.control,fe=te.formState,xe=fe.isSubmitting,ve=fe.isDirty,ge=te.getValues,he=function(e){var t=(0,m.Os)(),r=t.publicKey,n=t.signTransaction,s=(0,Me.lm)().toast,a=(0,m.C9)(),p=(0,me.SR)(),f=p.addNotificationTx,g=p.updateNotificationMetadata,h=p.updateNotificationTxStatus,b=(0,lt.Z)(),y=b.refetch,w=b.key,j=(0,vr.NL)(),O=(0,m.Bn)(),T=O.getTokenInfo,k=O.connection;return(0,gr.D)({mutationKey:["rfq-swap"],mutationFn:function(){var t=(0,o.Z)(u().mark((function t(c){var p,m,b,O,C,S,N,A,E,I,M,R,D,Z,L,F,_,B,q,U,V;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&r){t.next=2;break}throw new Mr("Wallet not connected, or missing wallet functions",Or.WALLET_SIGNING_FAILED);case 2:if(p=c.rfqQuote,m=c.fromTokenInfo,b=c.toTokenInfo,O=c.toastId,C=p.quoteResponse,s({duration:!1,id:O,render:function(e){return(0,P.jsx)(yr.x,Er({},e))},closeOnClick:!1}),f(O,{status:"loading",txid:"",stepText:l.ag._({id:"5Xu+kY"})}),C.transaction){t.next=8;break}throw new Mr("Transaction is missing from quote",Or.FAILED);case 8:return S=fr.base64.decode(C.transaction),N=x.VersionedTransaction.deserialize(new Uint8Array(S)),t.next=12,n(N);case 12:return A=t.sent,g(O,{customTitle:l.ag._({id:"gam1uM"})}),h(O,{status:"loading",txid:"",stepText:l.ag._({id:"ybt5Vv"})}),E=A.message.serialize(),t.next=18,k.getSignaturesForAddress(r,void 0,"confirmed");case 18:return I=t.sent,M=null===I||void 0===I?void 0:I[0].signature,R=Date.now(),t.next=23,Cr.postRFQSwapTransaction({requestId:C.requestId,quoteId:C.quoteId,transaction:Sr.from(A.serialize()).toString("base64")});case 23:if(D=t.sent){t.next=26;break}throw new Mr("Failed to fill",Or.FAILED);case 26:if(D.state!==ar.REJECTED){t.next=28;break}throw new Mr("Market maker rejected the transaction",Or.REJECTED);case 28:if(D.state===ar.ACCEPTED){t.next=30;break}throw new Mr("Failed to fill",Or.FAILED);case 30:return t.next=32,(0,o.Z)(u().mark((function e(){var t,n,o,i,s,a,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new x.PublicKey(C.maker).toBytes(),n=new(Te())(C.expireAt||"0").add(new(Te())(5)),e.next=4,Zr(k);case 4:o=e.sent;case 5:return e.next=7,Zr(k);case 7:return o=e.sent,e.next=10,k.getSignaturesForAddress(r,{until:M},"confirmed");case 10:i=e.sent,s=Nr(i),e.prev=12,s.s();case 14:if((a=s.n()).done){e.next=22;break}if(c=a.value,l=c.signature,!xr.UN.verify(Sr.from(fr.bs58.decode(l)).toString("hex"),Sr.from(E).toString("hex"),t)){e.next=20;break}return e.abrupt("return",c);case 20:e.next=14;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(12),s.e(e.t0);case 27:return e.prev=27,s.f(),e.finish(27);case 30:return i.length>0&&(M=i[0].signature),e.next=33,(0,d.Dc)(500);case 33:if(o.unixTimestamp.lt(n)){e.next=5;break}case 34:return e.abrupt("return",null);case 35:case"end":return e.stop()}}),e,null,[[12,24,27,30]])})))();case 32:if(Z=t.sent){t.next=35;break}throw new Mr("Market maker failed to send transaction",Or.FAILED);case 35:if(L=Z.signature,F=Z.err){t.next=53;break}e.setAttributes({txid:L,ping:(Date.now()-R)/1e3}),e.logEvent(pe.qt.SUCCESS),e.resetAttributes(),_=T(p.quoteResponse.orderInfo.input.token.toBase58()),B=T(p.quoteResponse.orderInfo.output.token.toBase58()),q=new v.Z(p.original.orderInfo.output.endAmount.toString()).div(Math.pow(10,B.decimals)).toString(),U=new v.Z(p.original.orderInfo.input.endAmount.toString()).div(Math.pow(10,m.decimals)).toString(),V=l.ag._({id:"amwDxk",values:{0:U.toString(),1:_.symbol,2:q.toString(),3:B.symbol}}),g(O,{customTitle:"",description:V}),h(O,{status:"success",txid:L,stepText:null}),j.setQueryData(w,(function(e){return[{txHash:L,blockTime:(0,hr.Z)(Z.blockTime?1e3*Z.blockTime:new Date,"yyyy-MM-dd HH:mm:ss+00"),inputMint:m.address,inputAmount:U,outputMint:b.address,outputAmount:q,platform:"rfq"}].concat((0,i.Z)(null!==e&&void 0!==e?e:[]))})),setTimeout((function(){y()}),1500),a([m.address,b.address]),t.next=58;break;case 53:if(!F||!L){t.next=57;break}throw new Mr("Failed to fill",Or.FAILED,L);case 57:h(O,{status:"fail-no-txid",stepText:""});case 58:return t.abrupt("return",Z);case 59:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=(0,o.Z)(u().mark((function t(r,n){var o,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.toastId,!(r instanceof Mr)){t.next=16;break}if(r.type!==Or.FAILED){t.next=8;break}return g(o,{customTitle:"",description:r.message}),r.txid?(e.setAttributes({txid:r.txid}),h(o,{status:"fail",stepText:"",txid:r.txid})):h(o,{status:"fail-no-txid",stepText:""}),e.logEvent(pe.qt.FAILED),e.resetAttributes(),t.abrupt("return");case 8:if(r.type!==Or.REJECTED){t.next=12;break}return e.logEvent(pe.qt.REJECTED),e.resetAttributes(),t.abrupt("return");case 12:if(r.type!==Or.EXPIRED){t.next=16;break}return e.logEvent(pe.qt.FAILED),e.resetAttributes(),t.abrupt("return");case 16:if(h(o,{status:"fail-no-txid",txid:"",stepText:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{children:r.message}),(0,P.jsx)(c.cC,{id:"a9VzXt"})]}),error:r}),!(r instanceof Response)){t.next=34;break}return t.prev=18,t.next=21,r.json();case 21:return i=t.sent,e.setAttributes({swapError:i}),console.log("swapError",i),e.logEvent(pe.qt.FAILED),e.resetAttributes(),"QUOTE_EXPIRED"===i.errorCode?(g(o,{customTitle:"Quote Expired",description:"Please try to swap again"}),h(o,{status:"fail-no-txid"})):(g(o,{customTitle:"Something went wrong",description:i.error}),h(o,{status:"fail-no-txid"})),t.abrupt("return");case 30:t.prev=30,t.t0=t.catch(18),g(o,{customTitle:"Something went wrong"}),h(o,{status:"fail-no-txid"});case 34:r instanceof mr.PY?g(o,{customTitle:l.ag._({id:"db6r9K"})}):(0,br.isAbortError)(r)?(g(o,{customTitle:l.ag._({id:"wbDTs9"})}),h(o,{status:"fail-no-txid",txid:"",stepText:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(c.cC,{id:"P+gnB7"})}),error:r})):(g(o,{customTitle:l.ag._({id:"nwtY4N"})}),h(o,{status:"fail-no-txid",stepText:(0,P.jsx)(c.cC,{id:"97KsP/"}),error:r}));case 35:case"end":return t.stop()}}),t,null,[[18,30]])})));return function(e,r){return t.apply(this,arguments)}}()})}(ee),be=he.mutateAsync,ye=function(e){var t=(0,le.Os)(),r=t.signTransaction,n=t.address,i=(0,Me.lm)().toast,s=(0,me.SR)(),a=s.addNotificationTx,d=s.updateNotificationMetadata,p=s.updateNotificationTxStatus;return(0,gr.D)({mutationFn:function(){var t=(0,o.Z)(u().mark((function t(o){var s,c,m,g,h,b,y,w,j,O,T,k,C,S,N,A,E,I,M,R,D,Z;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o.tx,c=o.toastId,m=o.fromPairTokenInfo,g=o.toPairTokenInfo,h=o.requestId,r&&n){t.next=3;break}throw new Zn("Wallet not connected, or missing wallet functions",En.WALLET_SIGNING_FAILED);case 3:return b=Date.now(),i({duration:!1,id:c,render:function(e){return(0,P.jsx)(yr.x,Rn({},e))},closeOnClick:!1}),a(c,{status:"loading",txid:"",stepText:l.ag._({id:"5Xu+kY"})}),y=fr.base64.decode(s),w=x.VersionedTransaction.deserialize(new Uint8Array(y)),t.next=10,r(w);case 10:return j=t.sent,d(c,{customTitle:l.ag._({id:"gam1uM"})}),p(c,{status:"loading",txid:"",stepText:l.ag._({id:"ybt5Vv"})}),O=In.from(j.serialize()).toString("base64"),t.next=16,kn.E.submitSwap(O,h);case 16:if(T=t.sent,k=T.signature,C=T.status,e.setAttributes({ultraSwapResponse:T}),"Failed"!==C){t.next=21;break}throw new Zn(T.error,En.FAILED,k);case 21:e.setAttributes({txid:k,ping:(Date.now()-b)/1e3}),e.logEvent(pe.qt.SUCCESS),e.resetAttributes(),S=T.totalInputAmount,N=T.totalOutputAmount,A=m.symbol,E=new v.Z(S).div(Math.pow(10,m.decimals)),I=f.uf.format(E),M=g.symbol,R=new v.Z(N).div(Math.pow(10,g.decimals)),D=f.uf.format(R),Z=l.ag._({id:"H1Onsb",values:{formattedInputAmount:I,inputSymbol:A,formattedOutputAmount:D,outputSymbol:M}}),d(c,{customTitle:"",description:Z}),p(c,{status:"success",txid:k,stepText:null});case 34:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=(0,o.Z)(u().mark((function t(r,n){var o,i,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.toastId,i=n.requestId,console.log("error",r),!(r instanceof Response)){t.next=20;break}return t.prev=3,t.next=6,r.json();case 6:return s=t.sent,e.setAttributes({swapError:s}),console.log("swapError",s),e.logEvent(pe.qt.FAILED),e.resetAttributes(),d(o,{customTitle:"Something went wrong",description:s.error}),s.txid?p(o,{status:"fail",stepText:"",txid:s.txid}):p(o,{status:"fail-no-txid"}),t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(3),d(o,{customTitle:"Something went wrong"}),p(o,{status:"fail-no-txid"});case 20:if(e.setAttributes({ultraSwapError:r instanceof Error?r.message:JSON.stringify(r)}),!(r instanceof Zn)){t.next=27;break}return d(o,{customTitle:"",description:r.message}),r.txid?(e.setAttributes({ultraSwapTxId:r.txid}),p(o,{status:"fail",stepText:"",txid:r.txid})):p(o,{status:"fail-no-txid",stepText:""}),e.logEvent(pe.qt.FAILED),e.resetAttributes(),t.abrupt("return");case 27:if(!(r instanceof mr.PY)){t.next=34;break}return e.logEvent(pe.qt.REJECTED),e.resetAttributes(),p(o,{status:"fail-no-txid",stepText:""}),d(o,{customTitle:l.ag._({id:"db6r9K"})}),kn.E.postReject(i),t.abrupt("return");case 34:d(o,{customTitle:l.ag._({id:"nwtY4N"}),description:r.message||""}),p(o,{status:"fail-no-txid",stepText:(0,P.jsx)(c.cC,{id:"97KsP/"}),error:r});case 36:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e,r){return t.apply(this,arguments)}}()})}(ee),we=ye.mutateAsync,Oe=Tn().aggregatorSwap,Ce=(0,Q.JT)().openModal,Ne=((0,m.Bn)().getTokenInfo,(0,O.qo)({control:de})),Ae=Ne.fromTokenAddress,Pe=Ne.fromValue,Ee=Ne.toValue,Ie=Ne.toTokenAddress,Re=Ne.selectedQuote,Ze=R().slippage,Le=A(),Fe=Le.maxPriorityFeeInSol,_e=Le.maxPriorityFeeInLamports,Be=Le.broadcastMode,qe=(0,C.U)(),Ue=qe.profile,Ve=qe.isProfileModalOpen,Qe=qe.routeMode;j.useEffect((function(){var e=[];r&&(e.push(r.address),oe("fromTokenAddress",r.address)),a&&(e.push(a.address),oe("toTokenAddress",a.address)),E(e)}),[oe,E,r,a]);var Ke=j.useRef(!1),We=Ke.current?d.jr.ExactOut:d.jr.ExactIn,ze=j.useMemo((function(){return xe||(null===t||void 0===t?void 0:t.includes(Ae))}),[xe,t,Ae]),He=j.useMemo((function(){return xe||(null===t||void 0===t?void 0:t.includes(Ie))}),[xe,t,Ie]),Je=j.useMemo((function(){return!1===Ke.current?r&&null!==Pe&&void 0!==Pe&&Pe.value?b().BigInt(new v.Z(Pe.value).mul(Math.pow(10,r.decimals)).floor().toFixed()):b().BigInt(0):a&&null!==Ee&&void 0!==Ee&&Ee.value?b().BigInt(new v.Z(Ee.value).mul(Math.pow(10,a.decimals)).floor().toFixed()):b().BigInt(0)}),[r,null===Pe||void 0===Pe?void 0:Pe.value,a,null===Ee||void 0===Ee?void 0:Ee.value]);j.useEffect((function(){$((function(e){return e.size?new Set:e}))}),[z.asLegacyTransaction]);var Ge=j.useMemo((function(){if(We!==d.jr.ExactOut)return z.asLegacyTransaction?void 0:64}),[We,z.asLegacyTransaction]),Xe=j.useMemo((function(){return{amount:Je,inputMint:Ae?new x.PublicKey(Ae):void 0,outputMint:Ie?new x.PublicKey(Ie):void 0,maxAccounts:Ge,swapMode:We,slippageBps:Math.ceil(100*Number(Ze)),computeAutoSlippage:!0,minimizeSlippage:Boolean("true"===Ln.env.NEXT_PUBLIC_IS_EDGE)}}),[Je,Ae,Ge,Ze,We,Ie]),Ye=sr().data,$e=j.useMemo((function(){return Ye?new Map(Object.entries(Ye)):new Map}),[Ye]),et=j.useMemo((function(){return"auto"===Ue?je.Ultra:"RFQ"===Qe?je.RFQ:z.useWSol||"AMM"===Qe?je.Aggregator:void 0}),[z.useWSol,Ue,Qe]),tt=ke({fromTokenAddress:Ae,swapMode:We,swapType:et,selectedQuote:Re,fromValue:Pe}).hasEnoughBalance,rt=j.useMemo((function(){if("rfq"!==et||tt)return"aggregator"!==et?w:void 0}),[et,w,tt]),nt=function(e){var t=e.amount,r=e.fromTokenAddress,n=e.toTokenAddress,i=e.slippageBps,a=e.autoSlippage,c=e.dynamicSlippage,l=e.maxAutoSlippageBps,d=e.swapMode,p=e.maxAccounts,f=e.disabledProgramIds,m=e.computeAutoSlippage,x=e.minimizeSlippage,v=e.preferLiquidDexes,g=e.autoSlippageCollisionUsdValue,h=e.debounceTime,b=void 0===h?250:h,y=e.swapType,w=e.programIdToLabelMap,O=e.programIdsExcluded,T=e.taker,k=(0,j.useRef)(!1),C=(0,le.W2)(),S=(0,le.jB)(),N=S.onlyDirectRoutes,A=S.asLegacyTransaction,P=S.useWSol,E=(0,j.useState)(),I=E[0],R=E[1],D=(0,j.useMemo)((function(){return t.toString()}),[t]),Z=(0,j.useMemo)((function(){if("0"!==D&&r&&n)return k.current=Pn({amount:t,fromTokenAddress:r,toTokenAddress:n}),{inputMint:r,outputMint:n,amount:D,autoSlippage:a,dynamicSlippage:c,maxAutoSlippageBps:l,autoSlippageCollisionUsdValue:g,slippageBps:i,swapMode:d,excludeDexes:Qr.getExcludeDexes({programIdsExcluded:O,disabledProgramIds:f,programIdToLabelMap:w}),onlyDirectRoutes:N,asLegacyTransaction:A,platformFeeBps:null!==C&&void 0!==C&&C.feeBps?Qr.getPltformFeeBps({desiredFeeBps:null===C||void 0===C?void 0:C.feeBps,swapMode:d,inputMint:r,outputMint:n}):void 0,maxAccounts:p,computeAutoSlippage:m,minimizeSlippage:x,preferLiquidDexes:v,swapType:y,taker:T}}),[D,r,n,a,c,l,g,i,d,O,f,w,N,A,null===C||void 0===C?void 0:C.feeBps,p,m,x,v,y,T]),L=function(){var e=(0,o.Z)(u().mark((function e(t){var s,c,f,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(new Date).getTime(),c=s,k.current=!0,R(void 0),e.prev=4,r&&n){e.next=7;break}return e.abrupt("return",null);case 7:if(!i||!a){e.next=9;break}throw new Error("Cannot set both slippageBps and autoSlippage");case 9:if(a||!l){e.next=11;break}throw new Error("Cannot set maxAutoSlippageBps without autoSlippage");case 11:if(d===ce.jr.ExactOut&&p&&console.warn("maxAccounts is not supported for ExactOut swap mode"),d!==ce.jr.ExactOut||"rfq"!==y){e.next=15;break}return R(M.EXACT_OUT_NOT_SUPPORTED_IN_RFQ),e.abrupt("return",null);case 15:if(!P||"rfq"!==y){e.next=18;break}return R(M.WSOL_NOT_SUPPORTED_IN_RFQ),e.abrupt("return",null);case 18:if(Z){e.next=20;break}return e.abrupt("return",null);case 20:return e.next=22,An.getQuote(Z,t);case 22:return f=e.sent,e.abrupt("return",f);case 26:if(e.prev=26,e.t0=e.catch(4),!(0,br.isAbortError)(e.t0)){e.next=30;break}return e.abrupt("return",null);case 30:if(console.error(e.t0),c===s){e.next=33;break}return e.abrupt("return",null);case 33:return e.next=35,(0,o.Z)(u().mark((function t(){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.t0 instanceof Response)){t.next=6;break}return t.next=4,e.t0.json();case 4:return r=t.sent,t.abrupt("return",r.errorCode||null);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),console.log("Error parsing error response",t.t0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))();case 35:return m=e.sent,R(m||M.FETCH_ROUTES_ERROR),e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,null,[[4,26]])})));return function(t){return e.apply(this,arguments)}}(),F=(0,j.useState)([t,Z]),_=(0,s.Z)(F[0],2),B=_[0],q=_[1],U=F[1];(0,De.Z)((function(){U([t,Z])}),b,[D,Z]);var V=(0,er.a)({queryKey:["queryProxyQuote",JSON.stringify(q),P],queryFn:function(e){var t=e.signal;return L(t)},enabled:Pn({amount:B,fromTokenAddress:r,toTokenAddress:n}),cacheTime:0,staleTime:0,keepPreviousData:!1,refetchInterval:function(){return!e.isSubmitting&&5e3},onSettled:function(){k.current=!1},retryDelay:2e3}),Q=V.data,K=V.refetch,W=V.dataUpdatedAt,z=V.errorUpdatedAt,H=V.isError,J=V.isSuccess,G=V.isFetching,X=(0,j.useMemo)((function(){return G?(new Date).getTime():H?new Date(z).getTime():J?new Date(W).getTime():void 0}),[G,H,J,z,W]);return{refetch:function(){var e=(0,o.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.current=!0,e.next=3,K();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loading:k.current,error:I,lastRefreshTimestamp:X,quoteMeta:Q||void 0}}({amount:Je,fromTokenAddress:Ae,toTokenAddress:Ie,maxAccounts:Ge,swapMode:We,programIdsExcluded:X,isSubmitting:xe,slippageBps:Math.ceil(100*Number(Ze)),computeAutoSlippage:!0,swapType:et,minimizeSlippage:Boolean("true"===Ln.env.NEXT_PUBLIC_IS_EDGE),programIdToLabelMap:$e,taker:rt}),ot=nt.refetch,it=nt.loading,st=nt.error,at=nt.lastRefreshTimestamp,ut=nt.quoteMeta,dt=(0,F.m)().data,pt=(0,g.KO)(q.quotedSlippage),vt=(0,s.Z)(pt,2),gt=vt[0],ht=vt[1];j.useEffect((function(){if("aggregator"===(null===ut||void 0===ut?void 0:ut.swapType)){var e=ut.quoteResponse;e.slippageBps?ht(e.slippageBps):ht(void 0)}else ht(void 0)}),[gt,ht,ut]);var bt=(0,g.KO)(B.amms),yt=(0,s.Z)(bt,2)[1];j.useEffect((function(){if($e&&$e.size>0){var e=(0,i.Z)($e.entries()).map((function(e){var t=(0,s.Z)(e,2),r=t[0];return{label:t[1],ammProgramId:r}}));yt(e)}}),[$e,yt,null===dt||void 0===dt?void 0:dt.swapSettings]);var wt=(0,g.KO)(B.userExcludedAmms),jt=(0,s.Z)(wt,2),Ot=jt[0],Tt=jt[1];j.useEffect((function(){var e;$(new Set([].concat((0,i.Z)((null===dt||void 0===dt||null===(e=dt.swapSettings)||void 0===e?void 0:e.excludedAmms)||[]),(0,i.Z)(Ot.map((function(e){return e.ammProgramId}))))))}),[Ot,dt,$]),j.useEffect((function(){if(oe("selectedQuote",ut),ut){if("aggregator"===ut.swapType||"ultra"===ut.swapType){if(I.current=Date.now(),!a)return;if(!1===Ke.current){var e=new v.Z(ut.quoteResponse.outAmount.toString()||"0").div(Math.pow(10,a.decimals)),t=e.toFixed()||"",n=e?e.toNumber():e;oe("toValue",{formattedValue:t,value:t,floatValue:n})}else{if(!r)return;var o=new v.Z(ut.quoteResponse.inAmount.toString()||"0").div(Math.pow(10,r.decimals)),i=o.toFixed()||"",s=o?o.toNumber():o;oe("fromValue",{formattedValue:i,value:i,floatValue:s})}}if("rfq"===ut.swapType){if(!0===Ke.current)return;if(!ut||it||!a)return void oe("toValue",{floatValue:void 0,formattedValue:"",value:""});var u=new v.Z(ut.quoteResponse.orderInfo.output.endAmount.toString()).div(Math.pow(10,a.decimals));oe("toValue",{floatValue:u.toNumber(),formattedValue:u.toFixed(),value:u.toFixed()})}}else oe(!1===Ke.current?"toValue":"fromValue",{floatValue:void 0,formattedValue:"",value:""})}),[a,oe,r,ut,it]);var kt="aggregator"===(null===ut||void 0===ut?void 0:ut.swapType)||"ultra"===(null===ut||void 0===ut?void 0:ut.swapType)?ut.quoteResponse:void 0;(0,ue.Gl)(it?void 0:kt,Ae,Ie);var Ct=j.useState(),St=(0,s.Z)(Ct,2),Nt=St[0],At=St[1],Et=j.useState(),It=(0,s.Z)(Et,2),Rt=It[0],Zt=It[1],Lt=j.useCallback(function(){var e=(0,o.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,At((0,P.jsx)(c.cC,{id:"QPASEU"})),e.next=4,be({rfqQuote:t,fromTokenInfo:r,toTokenInfo:a,toastId:(0,V.w)()});case 4:At(void 0),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),At(void 0),e.abrupt("return");case 11:return e.prev=11,e.next=14,ot();case 14:return oe("toastId",(0,V.w)()),e.finish(11);case 16:case"end":return e.stop()}}),e,null,[[0,7,11,16]])})));return function(t){return e.apply(this,arguments)}}(),[be,r,a,ot,oe]),Ft=j.useCallback(function(){var e=(0,o.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,At((0,P.jsx)(c.cC,{id:"QPASEU"})),t.quoteResponse.transaction){e.next=4;break}throw new Error("No transaction in quoteMeta");case 4:return e.next=6,we({tx:t.quoteResponse.transaction,toastId:(0,V.w)(),fromPairTokenInfo:r,toPairTokenInfo:a,requestId:t.quoteResponse.requestId});case 6:At(void 0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),At(void 0),console.log("Error performing ultra swap",e.t0);case 13:return e.prev=13,e.next=16,ot();case 16:return oe("toastId",(0,V.w)()),e.finish(13);case 18:case"end":return e.stop()}}),e,null,[[0,9,13,18]])})));return function(t){return e.apply(this,arguments)}}(),[ot,oe,we,r,a]),_t=j.useCallback(function(){var e=(0,o.Z)(u().mark((function e(t){var r,n,o,s,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fromTokenInfo,n=t.toTokenInfo,o=t.toastId,s=t.selectedQuote,a=t.user,c=t.generalTrackingProperties,e.prev=1,e.next=4,Oe({params:{fromTokenInfo:r,toTokenInfo:n,toastId:o,selectedQuote:s,user:a},swapEventLogger:ee,generalTrackingProperties:c,onSending:function(){At(void 0)},onExcludeFaultyAmm:function(e,t){Ce((0,P.jsx)(H,{ammName:e,excludeAmm:function(){$((function(e){var r=Ot.map((function(e){return e.ammProgramId}));return z.asLegacyTransaction?new Set([].concat((0,i.Z)(r),[t])):(e.add(t),new Set([].concat((0,i.Z)(r),(0,i.Z)(e))))}))}}),{noCloseButton:!1})}});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),At(void 0),console.log("Error performing Aggregator swap",e.t0);case 10:return e.prev=10,e.next=13,ot();case 13:return Zt(void 0),oe("toastId",(0,V.w)()),e.finish(10);case 16:case"end":return e.stop()}}),e,null,[[1,6,10,16]])})));return function(t){return e.apply(this,arguments)}}(),[Oe,ee,Ce,Ot,z.asLegacyTransaction,ot,oe]),Bt=j.useCallback(function(){var e=(0,o.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ut&&w){e.next=3;break}return console.error("SwapForm3.onSubmit: missing quoteMeta/address!",{quoteMeta:ut,address:w}),e.abrupt("return");case 3:if(n={quoteResponseMeta:ut.original,wallet:null===S||void 0===S?void 0:S.name,inputAmountInUSD:"aggregator"===ut.swapType?ut.quoteResponse.swapUsdValue:void 0,excludedAmms:Array.from(X),slippage:Ze,jupiterParams:(0,K.w_)(Xe),jupiterConfigProps:(0,K.w_)({onlyDirectRoutes:z.onlyDirectRoutes,useWSol:z.useWSol,asLegacyTransaction:z.asLegacyTransaction}),globalPriority:{prioritizationFee:Fe,prioritizationFeeLamports:_e,priorityLevel:"veryHigh",broadcastMode:Be},profileMode:Ue,quoteTimestamp:I.current,deltaFromQuoteMs:at?Date.now()-at:void 0,routeMode:Qe},ee.setAttributes(n),"aggregator"!==(null===ut||void 0===ut?void 0:ut.swapType)){e.next=12;break}if(r&&a&&N){e.next=8;break}throw new Error("Missing required parameters");case 8:return e.next=10,_t({fromTokenInfo:r,toTokenInfo:a,toastId:t.toastId,selectedQuote:ut,user:N,generalTrackingProperties:n});case 10:e.next=20;break;case 12:if("rfq"!==(null===ut||void 0===ut?void 0:ut.swapType)){e.next=17;break}return e.next=15,Lt(ut);case 15:e.next=20;break;case 17:if("ultra"!==(null===ut||void 0===ut?void 0:ut.swapType)){e.next=20;break}return e.next=20,Ft(ut);case 20:setTimeout((function(){D()}),1500),_([Ae,Ie,k.W4]),ot();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ut,w,null===S||void 0===S?void 0:S.name,X,Ze,Xe,z.onlyDirectRoutes,z.useWSol,z.asLegacyTransaction,Fe,_e,Be,Ue,at,Qe,ee,_,r,a,Ae,Ie,ot,N,_t,Lt,Ft,D]),qt=(0,L.V)();(0,T.Z)((function(){qt[0]&&qt[1]&&(r&&r.address!==qt[0].address&&oe("fromTokenAddress",qt[0].address),a&&a.address!==qt[1].address&&oe("toTokenAddress",qt[1].address))}),qt);var Ut=(0,Z.Z)();j.useEffect((function(){Ut&&oe("fromValue",{formattedValue:Ut,value:Ut,floatValue:Number(Ut)})}),[oe,Ut]);var Vt=j.useCallback((function(){if(!it&&a&&r){var e,t=ge(),o=t.fromTokenAddress,i=t.toTokenAddress,s=t.fromValue;Number((null===s||void 0===s?void 0:s.floatValue)||0)>0&&"aggregator"===(null===ut||void 0===ut?void 0:ut.swapType)&&(e=!1===Ke.current?(0,f.lt)(ut.quoteResponse.outAmount,a.decimals).toString():(0,f.lt)(ut.quoteResponse.inAmount,r.decimals).toString()),"ultra"===(null===ut||void 0===ut?void 0:ut.swapType)&&!1===Ke.current&&(e=(0,f.lt)(ut.quoteResponse.outAmount,a.decimals).toString()),"ultra"===(null===ut||void 0===ut?void 0:ut.swapType)&&!1===Ke.current&&(e=(0,f.lt)(ut.quoteResponse.outAmount,a.decimals).toString()),Number((null===s||void 0===s?void 0:s.floatValue)||0)>0&&"rfq"===(null===ut||void 0===ut?void 0:ut.swapType)&&!1===Ke.current&&(e=(0,f.lt)(ut.quoteResponse.orderInfo.output.endAmount,a.decimals).toString()),ie(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fromTokenAddress:o,toTokenAddress:i},!1===Ke.current?{fromValue:{value:e,floatValue:Number(e),formattedValue:e}}:{toValue:{value:e,floatValue:Number(e),formattedValue:e}})),h(a,r)}}),[it,a,r,ge,ut,ie,h]);j.useEffect((function(){if("auto"===Ue&&We===d.jr.ExactOut){Ke.current=!1;var e=ge(),t=e.fromTokenAddress,r=e.toTokenAddress;ie({fromTokenAddress:t,toTokenAddress:r})}}),[Ue,ge,We,ie]);var Qt=j.useRef(null),Kt=j.useCallback((function(e){e.stopPropagation(),Tt([]),ot()}),[ot,Tt]),Wt=j.useCallback((function(){ot(),_([Ae,Ie,k.W4])}),[ot,Ae,Ie,_]);return j.useMemo((function(){return(0,P.jsxs)("div",{className:"flex flex-col rounded-b-lg bg-v3-secondary-background",children:[Ve&&(0,P.jsx)(ct,{}),(0,P.jsx)(Jt,{onRefreshPress:Wt}),"manual"===Ue&&(0,P.jsx)(_n,{}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("form",{onSubmit:re(Bt),className:"px-4 pb-2",children:[(0,P.jsxs)("div",{className:"relative",children:[(0,P.jsxs)("div",{className:(0,U.cn)("flex min-h-[119px] flex-col space-y-2 rounded-t-xl border border-transparent px-4 py-3","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","bg-v3-input-background"),children:[(0,P.jsxs)("div",{className:"flex min-h-[26px] items-center justify-between",children:[(0,P.jsx)("span",{className:"text-xs",children:(0,P.jsx)(c.cC,{id:"WEVa0d"})}),(0,P.jsxs)("div",{className:"flex space-x-2",children:[(0,P.jsx)(se,{control:de,name:"fromTokenAddress",useWSol:z.useWSol}),(0,P.jsx)(p.oi,{useWSol:z.useWSol&&"manual"===Ue,disabled:xe,mint:Ae,onBalanceChange:function(e){Ke.current=!1,oe("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,P.jsxs)("div",{className:"flex flex-1 items-center justify-between gap-x-2",children:[(0,P.jsxs)("div",{ref:Qt,className:"flex flex-col gap-y-1",children:[(0,P.jsx)(ne,{onTokenChange:h,disableTokenSelect:ze,getValues:ge,control:de,name:"fromTokenAddress",fromTokenInfo:r,toTokenInfo:a}),r&&(0,P.jsx)(W.Y,{loading:it,tokenInfo:r})]}),(0,P.jsx)(Y,{tokenInfo:r,control:de,disabled:xe,name:"fromValue",loading:!!Ke.current&&it,onKeyDown:function(){Ke.current=!1},placeholder:ve?We===d.jr.ExactIn?"0.00":"":"0.00"})]})]}),(0,P.jsx)("div",{className:"relative z-10 -my-4 flex justify-center",children:(0,P.jsx)("button",{type:"button",disabled:xe,className:(0,U.cn)("group/flip flex h-8 w-8 cursor-pointer flex-col justify-center rounded-full border-[3px] border-uiv2 bg-v2-background-page text-v2-lily/50","hover:border-v2-primary hover:shadow-swap-input-dark disabled:pointer-events-none"),onClick:Vt,children:(0,P.jsx)("span",{className:"flex w-full justify-center fill-current text-v2-lily/50 transition-none group-hover/flip:text-v2-primary",children:(0,P.jsx)(ae.Z,{})})})}),(0,P.jsxs)("div",{className:(0,U.cn)("relative min-h-[109px]","group flex flex-col space-y-1 rounded-b-xl border border-transparent px-4 py-3","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","bg-v3-input-secondary-background"),children:[(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsx)("span",{className:"text-xs",children:(0,P.jsx)(c.cC,{id:"oS2F65"})}),(0,P.jsx)(se,{control:de,name:"toTokenAddress",useWSol:z.useWSol})]}),(0,P.jsxs)("div",{className:"flex flex-1 items-center justify-between gap-x-2",children:[(0,P.jsxs)("div",{ref:Qt,className:"flex flex-col gap-y-1",children:[(0,P.jsx)(ne,{onTokenChange:h,getValues:ge,disableTokenSelect:He,control:de,name:"toTokenAddress",fromTokenInfo:r,toTokenInfo:a}),a&&(0,P.jsx)(W.Y,{loading:it,tokenInfo:a,shouldHandleReferrer:!0,shouldHandleFreezeAndPermanent:!0})]}),(0,P.jsx)(mt,{tokenInfo:a,control:de,disabled:xe||"auto"===Ue,name:"toValue",loading:!Ke.current&&it,onKeyDown:function(e){e.metaKey||e.ctrlKey||"Meta"===e.key||"Control"===e.key||"Alt"===e.key||"Shift"===e.key||(Ke.current=!0)},onPaste:function(){Ke.current=!0},placeholder:"0.00",children:(0,P.jsx)($t,{quoteMeta:ut,tokenAddress:Ie,value:Ee,isLoading:!Ke.current&&it})})]})]})]}),(0,P.jsx)("div",{className:"my-4",children:(0,P.jsx)(Dt,{control:de,isQuoteLoading:it})}),(0,P.jsx)(Se,{swapMode:We,swapType:et,simulationButtonText:Nt,loading:it,control:de,error:st,progress:Rt}),(0,P.jsxs)("div",{children:[a&&(0,P.jsx)(Bn,{tokenInfo:a}),r&&(0,P.jsx)(Bn,{tokenInfo:r}),(0,P.jsx)(xt,{}),"manual"===Ue&&(0,P.jsx)(Mt,{isExactOut:Ke.current}),"manual"===Ue&&Ot.length>0&&X.size>0&&"RFQ"!==Qe&&(0,P.jsxs)("div",{className:(0,U.cn)("flex gap-x-1 py-1 text-xs text-v2-lily/50",!z.onlyDirectRoutes&&"mt-2"),children:[(0,P.jsx)("div",{children:l.ag._({id:"880KXG",values:{0:Ot.length}})}),(0,P.jsx)("button",{type:"button",className:"underline",onClick:Kt,children:"Clear all"})]})]})]}),r&&a&&(0,P.jsx)(Pt,{control:de,loading:it,inputTokenInfo:r,outputTokenInfo:a})]})]})}),[Ve,Wt,Ue,re,Bt,de,z.useWSol,z.onlyDirectRoutes,xe,Ae,h,ze,ge,r,a,it,ve,We,Vt,He,ut,Ie,Ee,et,Nt,st,Rt,Ot.length,X.size,Qe,Kt,oe])}},48052:function(e,t,r){"use strict";r.d(t,{_L:function(){return c},k3:function(){return a},lz:function(){return u}});var n=r(38272),o=r(9319),i=r.n(o),s=r(57406),a=(0,s.coerce)((0,s.instance)(n.PublicKey),(0,s.string)(),(function(e){return new n.PublicKey(e)})),u=(0,s.coerce)((0,s.instance)(i()),(0,s.string)(),(function(e){return i().BigInt(e)})),c=(0,s.coerce)((0,s.string)(),(0,s.number)(),(function(e){return Number(e)}))},97155:function(e,t,r){"use strict";r.r(t),r.d(t,{ToggleV2Mini:function(){return c}});var n=r(71863),o=r(72558),i=r(29541);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t=e.active,r=e.onClick,n=e.className,s=e.dotClassName,a=e.activeClassName,u=e.inactiveClassName,c=e.disabled,l=void 0!==c&&c,d=(0,o.cn)("bg-white transform translate-x-full",a),p=(0,o.cn)("bg-white-35",u);return(0,i.jsx)("button",{type:"button",className:(0,o.cn)("flex h-5 w-9 cursor-pointer items-center rounded-full p-0.5",{"bg-[#71E5EC]":t,"bg-[#010101]":!t},n,l&&"opacity-50"),disabled:l,onClick:function(){return r(!t)},children:(0,i.jsx)("div",{className:(0,o.cn)("h-4 w-4 transform rounded-full shadow-md duration-300 ease-in-out",t?d:p,s)})})},c=function(e){return(0,i.jsx)(u,a(a({},e),{},{className:"h-3 w-6",dotClassName:"w-3 h-3"}))};t.default=u},21029:function(e,t,r){"use strict";var n=r(71863),o=r(72215),i=r(45009),s=r(22831),a=r(93981);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(){var e=(0,o.Os)().address,t=(0,a.useMemo)((function(){return["swap-histories",e]}),[e]);return c({key:t},(0,i.a)(t,(function(){return e?s.ZP.get("https://worker.jup.ag/swap-transactions/".concat(e),{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}).json().then((function(e){return e.swaps.map((function(e){return c(c({},e),{},{inputAmount:e.inputAmount.toString(),outputAmount:e.outputAmount.toString()})}))})):[]}),{enabled:!!e,refetchOnMount:!1,keepPreviousData:!0}))}},24406:function(e,t,r){"use strict";r.d(t,{J:function(){return a}});var n=r(71863),o=r(29541);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a=function(e){return(0,o.jsxs)("svg",s(s({viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em"},e),{},{children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_1785_33901)",children:[(0,o.jsx)("path",{d:"M7.20001 7.86127C7.45429 7.86127 7.69815 7.96228 7.87795 8.14208C8.05775 8.32188 8.15876 8.56574 8.15876 8.82002C8.15876 8.56574 8.25977 8.32188 8.43957 8.14208C8.61937 7.96228 8.86324 7.86127 9.11751 7.86127C8.86324 7.86127 8.61937 7.76026 8.43957 7.58046C8.25977 7.40066 8.15876 7.15679 8.15876 6.90252C8.15876 7.15679 8.05775 7.40066 7.87795 7.58046C7.69815 7.76026 7.45429 7.86127 7.20001 7.86127ZM7.20001 2.10877C7.45429 2.10877 7.69815 2.20978 7.87795 2.38958C8.05775 2.56938 8.15876 2.81324 8.15876 3.06752C8.15876 2.81324 8.25977 2.56938 8.43957 2.38958C8.61937 2.20978 8.86324 2.10877 9.11751 2.10877C8.86324 2.10877 8.61937 2.00776 8.43957 1.82796C8.25977 1.64816 8.15876 1.40429 8.15876 1.15002C8.15876 1.40429 8.05775 1.64816 7.87795 1.82796C7.69815 2.00776 7.45429 2.10877 7.20001 2.10877Z",stroke:"currentColor",strokeWidth:"0.95875",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M4.09971 1.42435C4.08095 1.37314 4.04691 1.32892 4.00219 1.29768C3.95748 1.26644 3.90425 1.24969 3.84971 1.24969C3.79517 1.24969 3.74194 1.26644 3.69723 1.29768C3.65251 1.32892 3.61847 1.37314 3.59971 1.42435L3.34534 2.11935C3.1457 2.6643 2.82969 3.15919 2.41931 3.56957C2.00893 3.97996 1.51403 4.29596 0.969084 4.4956L0.274086 4.74998C0.222871 4.76874 0.178655 4.80279 0.147417 4.8475C0.116179 4.89221 0.0994263 4.94543 0.0994263 4.99998C0.0994263 5.05452 0.116179 5.10775 0.147417 5.15246C0.178655 5.19717 0.222871 5.23122 0.274086 5.24998L0.969084 5.50435C1.51403 5.70399 2.00893 6.02001 2.41931 6.43039C2.82969 6.84077 3.1457 7.33566 3.34534 7.88061L3.59971 8.5756C3.61847 8.62681 3.65251 8.67103 3.69723 8.70227C3.74194 8.7335 3.79517 8.75026 3.84971 8.75026C3.90425 8.75026 3.95748 8.7335 4.00219 8.70227C4.04691 8.67103 4.08095 8.62681 4.09971 8.5756L4.35409 7.88061C4.55372 7.33566 4.86973 6.84077 5.28011 6.43039C5.69049 6.02001 6.18538 5.70399 6.73033 5.50435L7.42533 5.24998C7.47654 5.23122 7.52076 5.19717 7.552 5.15246C7.58323 5.10775 7.59999 5.05452 7.59999 4.99998C7.59999 4.94543 7.58323 4.89221 7.552 4.8475C7.52076 4.80279 7.47654 4.76874 7.42533 4.74998L6.73033 4.4956C6.18538 4.29596 5.8125 3.97995 5.40212 3.56957C4.99174 3.15919 4.55372 2.6643 4.35409 2.11935L4.09971 1.42435Z",fill:"currentColor"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_1785_33901",children:(0,o.jsx)("rect",{width:"10",height:"10",fill:"white"})})})]}))}},28046:function(e){e.exports={shimmerHover:"shimmer_shimmerHover__kuHfA",shimmer:"shimmer_shimmer__RAn6a",shimmerActive:"shimmer_shimmerActive__vA0Qw"}}}]);
//# sourceMappingURL=9863-cfa66cee02d68f74.js.map